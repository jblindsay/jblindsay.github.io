<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Enhancing Multispectral Images</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="intro.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="part1.html"><strong aria-hidden="true">2.</strong> Installing Whitebox Workflows</a></li><li class="chapter-item expanded "><a href="part2.html" class="active"><strong aria-hidden="true">3.</strong> Enhancing Multispectral Images</a></li><li class="chapter-item expanded "><a href="part3.html"><strong aria-hidden="true">4.</strong> Exploring Spectral Signatures</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="part-2-enhancing-multispectral-satellite-images"><a class="header" href="#part-2-enhancing-multispectral-satellite-images">Part 2: Enhancing Multispectral Satellite Images</a></h1>
<blockquote>
<p><em>Warning, the data that are used in this lab are quite large. Do not try to run this lab on your personal
laptop if it does not have sufficient memory, available hard drive space, and processing power. If you find
yourself in this situation, use the workstations in the undergraduate computing lab instead.</em></p>
<p><strong>YOU MUST DECOMPRESS (UNZIP) THE LAB DATA FILE BEFORE YOU CAN ANALYZE THE IMAGES CONTAINED WITHIN IT. VERY COMMONLY WHEN STUDENTS COMPLAIN ABOUT AN ERROR WHEN LOADING IMAGE DATA, IT IS THE RESULT OF NOT HAVING DECOMPRESSED THE DATA FILE.</strong></p>
</blockquote>
<p>Open QGIS and display the raster file <code>band2.tif</code>, <code>band3.tif</code>, and <code>band4.tif</code>. These three images comprise three of the available bands within a Landsat 8 data set collected on 2019-10-12. Using the <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#create_colour_composite"><strong>Create Colour Composite</strong></a> tool (available from <em>Whitebox Workflows</em> =&gt; <em>Image processing</em> =&gt; <em>Create colour composite</em>), create a true colour composite using RGB = 4 3 2. Be sure to set the <em>Input Opacity Band</em> to nothing and check the <em>Perform balance contrast enhancement?</em> checkbox. Call the output <code>RGB432.tif</code>, being sure to save the file in your lab working directory.</p>
<blockquote>
<p>2.1. Overlay the OpenStreetMap layer on the map to get a sense of the geographic location of the image data set. Provide a description of the landscape captured by this multispectral data set in detail. Be sure to identify the relevant features and landmarks. (5 marks; marks will be assigned based on thoroughness and completeness of answers)</p>
</blockquote>
<p>Notice that the colours within your composite image appear to be somewhat faded and subdued. Use the <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#direct_decorrelation_stretch"><strong>Direct Decorrelation Stretch</strong></a> tool (<em>Whitebox Workflows</em> =&gt; <em>Image processing</em> =&gt; <em>Direct decorrelation stretch</em>) to perform a saturation stretch on your true colour composite image. You may use the default parameter values; call the output file <code>RGB432_dds.tif</code> and be sure to save it in your working directory.</p>
<blockquote>
<p>2.2. Describe the impact of the direct decorrelation stretch on the resulting image. For example, does it improve or worsen your ability to distinguish between different land-covers (e.g. crop types) through visual interpretation of the image? Provide screenshots of detailed (zoomed-in) portions of the study site to justify your answer. (5 marks)</p>
<p>2.3. In your own words, how does this tool operate to enhance the colour of images? That is, how does
direct decorrelation stretching work? (3 marks)</p>
</blockquote>
<p>Now use the <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#unsharp_masking"><strong>Unsharp Masking</strong></a> tool (<em>Whitebox Workflows</em> =&gt; <em>Image processing</em> =&gt; <em>Unsharp mask</em>). Despite the counter-intuitive name of this operation, <a href="https://en.wikipedia.org/wiki/Unsharp_masking">unsharp masking</a> is used to enhance the sharpness of edges within an image. You should modify the <em>Sigma</em> parameter to 1.0, the <em>Amount</em> parameter to 5.0, leave the <em>Threshold</em> parameter at 0.0, and specify the input image as <code>RGB432_dds.tif</code> and name the output <code>RGB432_unsharp.tif</code>.</p>
<blockquote>
<p>2.4. What is the purpose of performing <a href="https://en.wikipedia.org/wiki/Edge_enhancement">edge enhancement</a> on an image? (2 marks)</p>
<p>2.5. Describe the impact that the <strong>Unsharp Masking</strong> tool has on features within 1) the urban areas (e.g. Fresno, Clovis, and Madera), 2) the agricultural areas (e.g. the areas surrounding the urban centers towards the bottom of the scene), and 3) in the foothill and mountain regions. Provide screenshots of detailed (zoomed-in) portions of the study site to justify your answers. (6 marks; marks will be assigned based on thoroughness and completeness of answers.)</p>
</blockquote>
<p>Now display the <code>band8.tif</code> image. Notice that you may need to adjust the display min/max values to improve the contrast of the image. To do this, open the layer properties (double-click the image in the <em>Layers</em> pane), select the <em>Symbology</em> tab, and select <em>Cumulative count cut</em> under <em>Min/Max Value Settings</em>. Zoom into the scene and compare the level of detail provided in this image to that of the colour composite image output from the unsharp masking tool.</p>
<blockquote>
<p>2.6. Using the information within the 'Layer Properties', how does the spatial resolution of this band 8 image compare with the resolution of the other bands within multispectral data set that you have been provided? What is this band? (2 marks)</p>
</blockquote>
<p>Use the <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#panchromatic_sharpening"><strong>Panchromatic Sharpening</strong></a> tool (<em>Whitebox Workflows</em> =&gt; <em>Image processing</em> =&gt; <em>Panchromatic sharpening</em>) to combine the band 8 data with the <code>RGB432_unsharp.tif</code> colour composite image. Do not specify the red, green, or blue bands (don't worry if you are unable to remove the auto-populated file names in these parameters in the dialog) and specify <code>RGB432_unsharp.tif</code> as the input colour composite image. You may use the default <em>Brovey</em> pan-sharpening method; call the output image <code>pansharp.tif</code>. Notice that any analysis involving the <code>band8.tif</code> file will take considerably longer to complete, given its much larger file size. The output image will also be considerably larger than the other colour composite images.</p>
<p>You will undoubtedly notice that the output of the operation produces an image that is very dark, with an unsatisfactory colour-balance. Use the <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#balance_contrast_enhancement"><strong>Balance Contrast Enhancement</strong></a> tool (<em>Whitebox Workflows</em> =&gt; <em>Image processing</em> =&gt; <em>Balance contrast enhancement</em>) to improve the quality of the pan-sharpened image. Call the output <code>pansharp_bce.tif</code>.</p>
<blockquote>
<p>2.7. Provide screenshot comparisons between the original colour composite image (<code>RGB432_unsharp.tif</code>) and the pan-sharpened image (<code>pansharp_bce.tif</code>) under varying land-cover/land-use (e.g. urban, agricultural, foothills, and mountainous landscapes). (4 marks)</p>
<p>2.8. To what extent has the pan-sharpening operation improved the level of detail in the colour composite image? Provide examples to help justify your answer. (3 marks)</p>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="part1.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="part3.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="part1.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="part3.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
