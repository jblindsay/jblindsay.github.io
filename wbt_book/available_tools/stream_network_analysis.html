<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Stream network analysis - WhiteboxTools User Manual</title>
        
        <meta http-equiv="refresh" content="0; url=https://www.whiteboxgeo.com/manual/wbt_book/intro.html" />


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="../favicon.svg">
        
        
        <link rel="shortcut icon" href="../favicon.png">
        
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        
        <link rel="stylesheet" href="../css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="../fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../preface.html">Preface</a></li><li class="chapter-item expanded "><a href="../intro.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../install.html"><strong aria-hidden="true">2.</strong> Setting Up WhiteboxTools</a></li><li class="chapter-item expanded "><a href="../using_whiteboxtools.html"><strong aria-hidden="true">3.</strong> Using WhiteboxTools</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../python_scripting/scripting.html"><strong aria-hidden="true">3.1.</strong> Interfacing with Python</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../python_scripting/using_whitebox_tools.html"><strong aria-hidden="true">3.1.1.</strong> Using whitebox_tools.py</a></li><li class="chapter-item expanded "><a href="../python_scripting/tool_output.html"><strong aria-hidden="true">3.1.2.</strong> Handling tool output</a></li><li class="chapter-item expanded "><a href="../python_scripting/additional_functions.html"><strong aria-hidden="true">3.1.3.</strong> Additional functions</a></li><li class="chapter-item expanded "><a href="../python_scripting/example.html"><strong aria-hidden="true">3.1.4.</strong> An example Python project</a></li></ol></li><li class="chapter-item expanded "><a href="../r_interface.html"><strong aria-hidden="true">3.2.</strong> Interfacing with R</a></li><li class="chapter-item expanded "><a href="../nim_scripting.html"><strong aria-hidden="true">3.3.</strong> Interfacing with Nim</a></li><li class="chapter-item expanded "><a href="../whitebox_tools_runner.html"><strong aria-hidden="true">3.4.</strong> WhiteboxTools Runner</a></li><li class="chapter-item expanded "><a href="../qgis_plugin.html"><strong aria-hidden="true">3.5.</strong> QGIS plugin</a></li><li class="chapter-item expanded "><a href="../arcgis_plugin.html"><strong aria-hidden="true">3.6.</strong> ArcGIS plugin</a></li><li class="chapter-item expanded "><a href="../command_prompt.html"><strong aria-hidden="true">3.7.</strong> Command-line interface</a></li></ol></li><li class="chapter-item expanded "><a href="../available_tools/index.html"><strong aria-hidden="true">4.</strong> Tools Reference</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../available_tools/data_tools.html"><strong aria-hidden="true">4.1.</strong> Data tools</a></li><li class="chapter-item expanded "><a href="../available_tools/geomorphometric_analysis.html"><strong aria-hidden="true">4.2.</strong> Geomorphometric analysis</a></li><li class="chapter-item expanded "><a href="../available_tools/gis_analysis.html"><strong aria-hidden="true">4.3.</strong> GIS analysis</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../available_tools/gis_analysis_distance_tools.html"><strong aria-hidden="true">4.3.1.</strong> Distance tools</a></li><li class="chapter-item expanded "><a href="../available_tools/gis_analysis_overlay_tools.html"><strong aria-hidden="true">4.3.2.</strong> Overlay tools</a></li><li class="chapter-item expanded "><a href="../available_tools/gis_analysis_patch_shape_tools.html"><strong aria-hidden="true">4.3.3.</strong> Patch shape tools</a></li></ol></li><li class="chapter-item expanded "><a href="../available_tools/hydrological_analysis.html"><strong aria-hidden="true">4.4.</strong> Hydrological analysis</a></li><li class="chapter-item expanded "><a href="../available_tools/image_processing_tools.html"><strong aria-hidden="true">4.5.</strong> Image processing tools</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../available_tools/image_processing_tools_classification.html"><strong aria-hidden="true">4.5.1.</strong> Classification</a></li><li class="chapter-item expanded "><a href="../available_tools/image_processing_tools_filters.html"><strong aria-hidden="true">4.5.2.</strong> Filters</a></li><li class="chapter-item expanded "><a href="../available_tools/image_processing_tools_image_enhancement.html"><strong aria-hidden="true">4.5.3.</strong> Image enchancement</a></li></ol></li><li class="chapter-item expanded "><a href="../available_tools/lidar_tools.html"><strong aria-hidden="true">4.6.</strong> LiDAR tools</a></li><li class="chapter-item expanded "><a href="../available_tools/mathand_stats_tools.html"><strong aria-hidden="true">4.7.</strong> Mathematical and statistical analysis</a></li><li class="chapter-item expanded "><a href="../available_tools/precision_agriculture.html"><strong aria-hidden="true">4.8.</strong> Precision agriculture</a></li><li class="chapter-item expanded "><a href="../available_tools/stream_network_analysis.html" class="active"><strong aria-hidden="true">4.9.</strong> Stream network analysis</a></li></ol></li><li class="chapter-item expanded "><a href="../tutorials/index.html"><strong aria-hidden="true">5.</strong> Tutorials</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../tutorials/mosaic.html"><strong aria-hidden="true">5.1.</strong> How can I mosaic hundreds of rasters?</a></li><li class="chapter-item expanded "><a href="../tutorials/lidar.html"><strong aria-hidden="true">5.2.</strong> Processing LiDAR data</a></li></ol></li><li class="chapter-item expanded "><a href="../supported_formats.html"><strong aria-hidden="true">6.</strong> Supported Data Formats</a></li><li class="chapter-item expanded "><a href="../contributing.html"><strong aria-hidden="true">7.</strong> Contributing and Reporting Bugs</a></li><li class="chapter-item expanded "><a href="../limitations.html"><strong aria-hidden="true">8.</strong> Limitations and Memory</a></li><li class="chapter-item expanded "><a href="../license.html"><strong aria-hidden="true">9.</strong> License</a></li><li class="chapter-item expanded "><a href="../faq.html"><strong aria-hidden="true">10.</strong> Frequently Asked Questions</a></li><li class="chapter-item expanded "><a href="../tool_index.html"><strong aria-hidden="true">11.</strong> Tool Index</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">WhiteboxTools User Manual</h1>

                    <div class="right-buttons">
                        
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="stream-network-analysis"><a class="header" href="#stream-network-analysis">Stream Network Analysis</a></h1>
<ul>
<li><a href="#DistanceToOutlet">DistanceToOutlet</a></li>
<li><a href="#ExtractStreams">ExtractStreams</a></li>
<li><a href="#ExtractValleys">ExtractValleys</a></li>
<li><a href="#FarthestChannelHead">FarthestChannelHead</a></li>
<li><a href="#FindMainStem">FindMainStem</a></li>
<li><a href="#HackStreamOrder">HackStreamOrder</a></li>
<li><a href="#HortonStreamOrder">HortonStreamOrder</a></li>
<li><a href="#LengthOfUpstreamChannels">LengthOfUpstreamChannels</a></li>
<li><a href="#LongProfile">LongProfile</a></li>
<li><a href="#LongProfileFromPoints">LongProfileFromPoints</a></li>
<li><a href="#RasterStreamsToVector">RasterStreamsToVector</a></li>
<li><a href="#RasterizeStreams">RasterizeStreams</a></li>
<li><a href="#RemoveShortStreams">RemoveShortStreams</a></li>
<li><a href="#ShreveStreamMagnitude">ShreveStreamMagnitude</a></li>
<li><a href="#StrahlerStreamOrder">StrahlerStreamOrder</a></li>
<li><a href="#StreamLinkClass">StreamLinkClass</a></li>
<li><a href="#StreamLinkIdentifier">StreamLinkIdentifier</a></li>
<li><a href="#StreamLinkLength">StreamLinkLength</a></li>
<li><a href="#StreamLinkSlope">StreamLinkSlope</a></li>
<li><a href="#StreamSlopeContinuous">StreamSlopeContinuous</a></li>
<li><a href="#TopologicalStreamOrder">TopologicalStreamOrder</a></li>
<li><a href="#TributaryIdentifier">TributaryIdentifier</a></li>
</ul>
<p><a name="DistanceToOutlet"></a></p>
<h1 id="distancetooutlet"><a class="header" href="#distancetooutlet">DistanceToOutlet</a></h1>
<p>This tool calculates the distance of stream grid cells to the channel network outlet cell for each grid cell belonging to a
raster stream network. The user must specify the name of a raster containing streams data (<code>--streams</code>), where
stream grid cells are denoted by all positive non-zero values, and a D8 flow pointer (i.e. flow direction) raster
(<code>--d8_pntr</code>). The pointer image is used to traverse the stream network and must only be created using the D8 algorithm.
Stream cells are designated in the streams image as all values
greater than zero. Thus, all non-stream or background grid cells are commonly assigned either zeros or NoData
values. Background cells will be assigned the NoData value in the output image, unless the <code>--zero_background</code>
parameter is used, in which case non-stream cells will be assinged zero values in the output.</p>
<p>By default, the pointer raster is assumed to use the clockwise indexing method used by WhiteboxTools.
If the pointer file contains ESRI flow direction values instead, the <code>--esri_pntr</code> parameter must be specified.</p>
<p><em>See Also</em>:
<a href="./hydrological_analysis.html#downslopedistancetostream"><strong>DownslopeDistanceToStream</strong></a>, <a href="./stream_network_analysis.html#lengthofupstreamchannels"><strong>LengthOfUpstreamChannels</strong></a></p>
<p><em>Parameters</em>:</p>
<table><thead><tr><th><strong>Flag</strong></th><th><strong>Description</strong></th></tr></thead><tbody>
<tr><td>--d8_pntr</td><td>Input raster D8 pointer file</td></tr>
<tr><td>--streams</td><td>Input raster streams file</td></tr>
<tr><td>-o, --output</td><td>Output raster file</td></tr>
<tr><td>--esri_pntr</td><td>D8 pointer uses the ESRI style scheme</td></tr>
<tr><td>--zero_background</td><td>Flag indicating whether a background value of zero should be used</td></tr>
</tbody></table>
<p><em>Python function</em>:</p>
<pre><code class="language-python">wbt.distance_to_outlet(
    d8_pntr, 
    streams, 
    output, 
    esri_pntr=False, 
    zero_background=False, 
    callback=default_callback
)
</code></pre>
<p><em>Command-line Interface</em>:</p>
<pre><code>&gt;&gt;./whitebox_tools -r=DistanceToOutlet -v ^
--wd=&quot;/path/to/data/&quot; --d8_pntr=D8.tif --streams=streams.tif ^
-o=output.tif
&gt;&gt;./whitebox_tools -r=DistanceToOutlet -v ^
--wd=&quot;/path/to/data/&quot; --d8_pntr=D8.tif --streams=streams.tif ^
-o=output.tif --esri_pntr --zero_background 
</code></pre>
<p><a href="https://github.com/jblindsay/whitebox-tools/blob/master/whitebox-tools-app/src/tools/stream_network_analysis/dist_to_outlet.rs">Source code on GitHub</a></p>
<p><em>Author</em>: Dr. John Lindsay</p>
<p><em>Created</em>: 13/07/2017</p>
<p><em>Last Modified</em>: 18/10/2019</p>
<p><a name="ExtractStreams"></a></p>
<h1 id="extractstreams"><a class="header" href="#extractstreams">ExtractStreams</a></h1>
<p>This tool can be used to extract, or map, the likely stream cells from an input flow-accumulation image
(<code>--flow_accum</code>). The algorithm applies a threshold to the input flow accumulation image such that streams
are considered to be all grid cells with accumulation values greater than the specified threshold
(<code>--threshold</code>). As such, this threshold represents the minimum area (area is used here as a surrogate
for discharge) required to <em>initiate and maintain a channel</em>. Smaller threshold values result in more
extensive stream networks and vice versa. Unfortunately there is very little guidance regarding an appropriate
method for determining the channel initiation area threshold. As such, it is frequently determined either by
examining map or imagery data or by experimentation until a suitable or desirable channel network is
identified. Notice that the threshold value will be unique for each landscape and dataset (including source
and grid resolution), further complicating its <em>a priori</em> determination. There is also evidence that in some
landscape the threshold is a combined upslope area-slope function. Generally, a lower threshold is appropriate
in humid climates and a higher threshold is appropriate in areas underlain by more resistant bedrock. Climate
and bedrock resistance are two factors related to drainage density, i.e. the extent to which a landscape is
dissected by drainage channels.</p>
<p>The background value of the ouput raster (<code>--output</code>) will be the NoData value unless the <code>--zero_background</code>
flag is specified.</p>
<p><em>See Also</em>:
<a href="./mathand_stats_tools.html#greaterthan"><strong>GreaterThan</strong></a></p>
<p><em>Parameters</em>:</p>
<table><thead><tr><th><strong>Flag</strong></th><th><strong>Description</strong></th></tr></thead><tbody>
<tr><td>--flow_accum</td><td>Input raster D8 flow accumulation file</td></tr>
<tr><td>-o, --output</td><td>Output raster file</td></tr>
<tr><td>--threshold</td><td>Threshold in flow accumulation values for channelization</td></tr>
<tr><td>--zero_background</td><td>Flag indicating whether a background value of zero should be used</td></tr>
</tbody></table>
<p><em>Python function</em>:</p>
<pre><code class="language-python">wbt.extract_streams(
    flow_accum, 
    output, 
    threshold, 
    zero_background=False, 
    callback=default_callback
)
</code></pre>
<p><em>Command-line Interface</em>:</p>
<pre><code>&gt;&gt;./whitebox_tools -r=ExtractStreams -v --wd=&quot;/path/to/data/&quot; ^
--flow_accum='d8accum.tif' -o='output.tif' --threshold=100.0 ^
--zero_background 
</code></pre>
<p><a href="https://github.com/jblindsay/whitebox-tools/blob/master/whitebox-tools-app/src/tools/stream_network_analysis/extract_streams.rs">Source code on GitHub</a></p>
<p><em>Author</em>: Dr. John Lindsay</p>
<p><em>Created</em>: 28/06/2017</p>
<p><em>Last Modified</em>: 30/01/2020</p>
<p><a name="ExtractValleys"></a></p>
<h1 id="extractvalleys"><a class="header" href="#extractvalleys">ExtractValleys</a></h1>
<p>This tool can be used to extract channel networks from an input digital elevation models (<code>--dem</code>) using
one of three techniques that are based on local topography alone.</p>
<p>The Lindsay (2006) 'lower-quartile' method (<code>--variant='LQ'</code>) algorithm is a type of 'valley recognition'
method. Other channel mapping methods, such as the Johnston and Rosenfeld (1975) algorithm, experience
problems because channel profiles are not always 'v'-shaped, nor are they always apparent in small
3 x 3 windows. The lower-quartile method was developed as an alternative and more flexible valley
recognition channel mapping technique. The lower-quartile method operates by running a filter over the
DEM that calculates the percentile value of the centre cell with respect to the distribution of
elevations within the filter window. The roving window is circular, the diameter of which should reflect
the topographic variation of the area (e.g. the channel width or average hillslope length). If this variant
is selected, the user must specify the filter size (<code>--filter</code>), in pixels, and this value should be an odd
number (e.g. 3, 5, 7, etc.). The appropriateness of the selected window diameter will depend on the grid
resolution relative to the scale of topographic features. Cells that are within the lower quartile of the
distribution of elevations of their neighbourhood are flagged. Thus, the algorithm identifies grid cells
that are in relatively low topographic positions at a local scale. This approach to channel mapping is only
appropriate in fluvial landscapes. In regions containing numerous lakes and wetlands, the algorithm will
pick out the edges of features.</p>
<p>The Johnston and Rosenfeld (1975) algorithm (<code>--variant='JandR'</code>) is a type of 'valley recognition' method
and operates as follows: channel cells are flagged in a 3 x 3 window if the north and south neighbours are
higher than the centre grid cell or if the east and west neighbours meet this same criterion. The group of
cells that are flagged after one pass of the roving window constituted the drainage network. This method is
best applied to DEMs that are relatively smooth and do not exhibit high levels of short-range roughness. As
such, it may be desirable to use a smoothing filter before applying this tool. The <code>FeaturePreservingDenoise</code>
is a good option for removing DEM roughness while preserving the topographic information contain in
breaks-in-slope (i.e. edges).</p>
<p>The Peucker and Douglas (1975) algorithm (<code>--variant='PandD'</code>) is one of the simplest and earliest algorithms
for topography-based network extraction. Their 'valley recognition' method operates by passing a 2 x 2 roving
window over a DEM and flagging the highest grid cell in each group of four. Once the window has passed over
the entire DEM, channel grid cells are left unflagged. This method is also best applied to DEMs that are relatively
smooth and do not exhibit high levels of short-range roughness. Pre-processing the DEM with the <code>FeaturePreservingDenoise</code>
tool may also be useful when applying this method.</p>
<p>Each of these methods of extracting valley networks result in line networks that can be wider than a single
grid cell. As such, it is often desirable to thin the resulting network using a line-thinning algorithm.
The option to perform line-thinning is provided by the tool as a post-processing step (<code>--line_thin</code>).</p>
<p><em>References</em>:</p>
<p>Johnston, E. G., &amp; Rosenfeld, A. (1975). Digital detection of pits, peaks, ridges, and ravines. IEEE
Transactions on Systems, Man, and Cybernetics, (4), 472-480.</p>
<p>Lindsay, J. B. (2006). Sensitivity of channel mapping techniques to uncertainty in digital elevation data.
International Journal of Geographical Information Science, 20(6), 669-692.</p>
<p>Peucker, T. K., &amp; Douglas, D. H. (1975). Detection of surface-specific points by local parallel
processing of discrete terrain elevation data. Computer Graphics and image processing, 4(4), 375-387.</p>
<p><em>See Also</em>:
<code>FeaturePreservingDenoise</code></p>
<p><em>Parameters</em>:</p>
<table><thead><tr><th><strong>Flag</strong></th><th><strong>Description</strong></th></tr></thead><tbody>
<tr><td>-i, --dem</td><td>Input raster DEM file</td></tr>
<tr><td>-o, --output</td><td>Output raster file</td></tr>
<tr><td>--variant</td><td>Options include 'LQ' (lower quartile), 'JandR' (Johnston and Rosenfeld), and 'PandD' (Peucker and Douglas); default is 'LQ'</td></tr>
<tr><td>--line_thin</td><td>Optional flag indicating whether post-processing line-thinning should be performed</td></tr>
<tr><td>--filter</td><td>Optional argument (only used when variant='lq') providing the filter size, in grid cells, used for lq-filtering (default is 5)</td></tr>
</tbody></table>
<p><em>Python function</em>:</p>
<pre><code class="language-python">wbt.extract_valleys(
    dem, 
    output, 
    variant=&quot;LQ&quot;, 
    line_thin=True, 
    filter=5, 
    callback=default_callback
)
</code></pre>
<p><em>Command-line Interface</em>:</p>
<pre><code>&gt;&gt;./whitebox_tools -r=ExtractValleys -v --wd=&quot;/path/to/data/&quot; ^
--dem=pointer.tif -o=out.tif --variant='JandR' ^
--line_thin
&gt;&gt;./whitebox_tools -r=ExtractValleys -v ^
--wd=&quot;/path/to/data/&quot; --dem=pointer.tif -o=out.tif ^
--variant='lq' --filter=7 --line_thin 
</code></pre>
<p><a href="https://github.com/jblindsay/whitebox-tools/blob/master/whitebox-tools-app/src/tools/stream_network_analysis/extract_valleys.rs">Source code on GitHub</a></p>
<p><em>Author</em>: Dr. John Lindsay</p>
<p><em>Created</em>: 12/07/2017</p>
<p><em>Last Modified</em>: 30/01/2020</p>
<p><a name="FarthestChannelHead"></a></p>
<h1 id="farthestchannelhead"><a class="header" href="#farthestchannelhead">FarthestChannelHead</a></h1>
<p>This tool calculates the upstream distance to the farthest stream head for each grid cell belonging to a
raster stream network. The user must specify the name of a raster containing streams data (<code>--streams</code>), where
stream grid cells are denoted by all positive non-zero values, and a D8 flow pointer (i.e. flow direction) raster
(<code>--d8_pntr</code>). The pointer image is used to traverse the stream network and must only be created using the D8 algorithm.
Stream cells are designated in the streams image as all values
greater than zero. Thus, all non-stream or background grid cells are commonly assigned either zeros or NoData
values. Background cells will be assigned the NoData value in the output image, unless the <code>--zero_background</code>
parameter is used, in which case non-stream cells will be assinged zero values in the output.</p>
<p>By default, the pointer raster is assumed to use the clockwise indexing method used by WhiteboxTools.
If the pointer file contains ESRI flow direction values instead, the <code>--esri_pntr</code> parameter must be specified.</p>
<p><em>See Also</em>:
<a href="./stream_network_analysis.html#lengthofupstreamchannels"><strong>LengthOfUpstreamChannels</strong></a>, <a href="./stream_network_analysis.html#findmainstem"><strong>FindMainStem</strong></a></p>
<p><em>Parameters</em>:</p>
<table><thead><tr><th><strong>Flag</strong></th><th><strong>Description</strong></th></tr></thead><tbody>
<tr><td>--d8_pntr</td><td>Input raster D8 pointer file</td></tr>
<tr><td>--streams</td><td>Input raster streams file</td></tr>
<tr><td>-o, --output</td><td>Output raster file</td></tr>
<tr><td>--esri_pntr</td><td>D8 pointer uses the ESRI style scheme</td></tr>
<tr><td>--zero_background</td><td>Flag indicating whether a background value of zero should be used</td></tr>
</tbody></table>
<p><em>Python function</em>:</p>
<pre><code class="language-python">wbt.farthest_channel_head(
    d8_pntr, 
    streams, 
    output, 
    esri_pntr=False, 
    zero_background=False, 
    callback=default_callback
)
</code></pre>
<p><em>Command-line Interface</em>:</p>
<pre><code>&gt;&gt;./whitebox_tools -r=FarthestChannelHead -v ^
--wd=&quot;/path/to/data/&quot; --d8_pntr=D8.tif --streams=streams.tif ^
-o=output.tif
&gt;&gt;./whitebox_tools -r=FarthestChannelHead -v ^
--wd=&quot;/path/to/data/&quot; --d8_pntr=D8.tif --streams=streams.tif ^
-o=output.tif --esri_pntr --zero_background 
</code></pre>
<p><a href="https://github.com/jblindsay/whitebox-tools/blob/master/whitebox-tools-app/src/tools/stream_network_analysis/farthest_channel_head.rs">Source code on GitHub</a></p>
<p><em>Author</em>: Dr. John Lindsay</p>
<p><em>Created</em>: 12/07/2017</p>
<p><em>Last Modified</em>: 18/10/2019</p>
<p><a name="FindMainStem"></a></p>
<h1 id="findmainstem"><a class="header" href="#findmainstem">FindMainStem</a></h1>
<p>This tool can be used to identify the main channel in a stream network. The user must specify the names of
a D8 pointer (flow direction) raster (<code>--d8_pntr</code>), and a streams raster (<code>--streams</code>). The pointer raster
is used to traverse the stream network and should only be created using the <a href="./hydrological_analysis.html#d8pointer"><strong>D8Pointer</strong></a>. By default, the pointer
raster is assumed to use the clockwise indexing method used by WhiteboxTools:</p>
<table><thead><tr><th align="center">.</th><th align="center">.</th><th align="center">.</th></tr></thead><tbody>
<tr><td align="center">64</td><td align="center">128</td><td align="center">1</td></tr>
<tr><td align="center">32</td><td align="center">0</td><td align="center">2</td></tr>
<tr><td align="center">16</td><td align="center">8</td><td align="center">4</td></tr>
</tbody></table>
<p>If the pointer file contains ESRI flow direction values instead, the <code>--esri_pntr</code> parameter must be specified.</p>
<p>The streams raster should have been created using one of the DEM-based stream mapping methods, i.e. contributing
area thresholding. Stream grid cells are designated in the streams image as all positive, non-zero values. All
non-stream cells will be assigned the NoData value in the output image, unless the <code>--zero_background</code> parameter
is specified.</p>
<p>The algorithm operates by traversing each stream and identifying the longest stream-path draining to each outlet.
When a confluence is encountered, the traverse follows the branch with the larger distance-to-head.</p>
<p><em>See Also</em>:
<a href="./hydrological_analysis.html#d8pointer"><strong>D8Pointer</strong></a></p>
<p><em>Parameters</em>:</p>
<table><thead><tr><th><strong>Flag</strong></th><th><strong>Description</strong></th></tr></thead><tbody>
<tr><td>--d8_pntr</td><td>Input raster D8 pointer file</td></tr>
<tr><td>--streams</td><td>Input raster streams file</td></tr>
<tr><td>-o, --output</td><td>Output raster file</td></tr>
<tr><td>--esri_pntr</td><td>D8 pointer uses the ESRI style scheme</td></tr>
<tr><td>--zero_background</td><td>Flag indicating whether a background value of zero should be used</td></tr>
</tbody></table>
<p><em>Python function</em>:</p>
<pre><code class="language-python">wbt.find_main_stem(
    d8_pntr, 
    streams, 
    output, 
    esri_pntr=False, 
    zero_background=False, 
    callback=default_callback
)
</code></pre>
<p><em>Command-line Interface</em>:</p>
<pre><code>&gt;&gt;./whitebox_tools -r=FindMainStem -v --wd=&quot;/path/to/data/&quot; ^
--d8_pntr=D8.tif --streams=streams.tif ^
-o=output.tif
&gt;&gt;./whitebox_tools -r=FindMainStem -v ^
--wd=&quot;/path/to/data/&quot; --d8_pntr=D8.tif --streams=streams.tif ^
-o=output.tif --esri_pntr --zero_background 
</code></pre>
<p><a href="https://github.com/jblindsay/whitebox-tools/blob/master/whitebox-tools-app/src/tools/stream_network_analysis/find_main_stem.rs">Source code on GitHub</a></p>
<p><em>Author</em>: Dr. John Lindsay</p>
<p><em>Created</em>: 27/06/2017</p>
<p><em>Last Modified</em>: 18/10/2019</p>
<p><a name="HackStreamOrder"></a></p>
<h1 id="hackstreamorder"><a class="header" href="#hackstreamorder">HackStreamOrder</a></h1>
<p>This tool can be used to assign the Hack stream order to each link in a stream network. According to this common
stream numbering system, the main stream is assigned an order of one. All tributaries to the main stream (i.e. the trunk)
are assigned an order of two; tributaries to second-order links are assigned an order of three, and so on. The trunk or
main stream of the stream network can be defined either based on the furthest upstream distance, at each bifurcation
(i.e. network junction).</p>
<p>Stream order is often used in hydro-geomorphic and ecological studies to quantify the relative size and importance of a
stream segment to the overall river system. Unlike some other stream ordering systems, e.g. Horton-Strahler stream order
(<a href="./stream_network_analysis.html#strahlerstreamorder"><strong>StrahlerStreamOrder</strong></a>) and Shreve's stream magnitude (<a href="./stream_network_analysis.html#shrevestreammagnitude"><strong>ShreveStreamMagnitude</strong></a>), Hack's stream ordering method increases
from the catchment outlet towards the channel heads. This has the main advantage that the catchment outlet is likely to
be accurately located while the channel network extent may be less accurately mapped.</p>
<p>The user must specify the names of a streams raster image (<code>--streams</code>) and D8 pointer image (<code>--d8_pntr</code>). Stream cells
are designated in the streams image as all positive, nonzero values. Thus all non-stream or background grid cells are
commonly assigned either zeros or NoData values. The pointer image is used to traverse the stream network and should only
be created using the D8 algorithm. Background cells will be assigned the NoData value in the output image, unless the
<code>--zero_background</code> parameter is used, in which case non-stream cells will be assinged zero values in the output.</p>
<p>By default, the pointer raster is assumed to use the clockwise indexing method used by WhiteboxTools.
If the pointer file contains ESRI flow direction values instead, the <code>--esri_pntr</code> parameter must be specified.</p>
<p><em>Reference</em>:</p>
<p>Hack, J. T. (1957). Studies of longitudinal stream profiles in Virginia and Maryland (Vol. 294). US Government
Printing Office.</p>
<p><em>See Also</em>:
<a href="./stream_network_analysis.html#hortonstreamorder"><strong>HortonStreamOrder</strong></a>, <a href="./stream_network_analysis.html#strahlerstreamorder"><strong>StrahlerStreamOrder</strong></a>, <a href="./stream_network_analysis.html#shrevestreammagnitude"><strong>ShreveStreamMagnitude</strong></a>, <a href="./stream_network_analysis.html#topologicalstreamorder"><strong>TopologicalStreamOrder</strong></a></p>
<p><em>Parameters</em>:</p>
<table><thead><tr><th><strong>Flag</strong></th><th><strong>Description</strong></th></tr></thead><tbody>
<tr><td>--d8_pntr</td><td>Input raster D8 pointer file</td></tr>
<tr><td>--streams</td><td>Input raster streams file</td></tr>
<tr><td>-o, --output</td><td>Output raster file</td></tr>
<tr><td>--esri_pntr</td><td>D8 pointer uses the ESRI style scheme</td></tr>
<tr><td>--zero_background</td><td>Flag indicating whether a background value of zero should be used</td></tr>
</tbody></table>
<p><em>Python function</em>:</p>
<pre><code class="language-python">wbt.hack_stream_order(
    d8_pntr, 
    streams, 
    output, 
    esri_pntr=False, 
    zero_background=False, 
    callback=default_callback
)
</code></pre>
<p><em>Command-line Interface</em>:</p>
<pre><code>&gt;&gt;./whitebox_tools -r=HackStreamOrder -v ^
--wd=&quot;/path/to/data/&quot; --d8_pntr=D8.tif --streams=streams.tif ^
-o=output.tif
&gt;&gt;./whitebox_tools -r=HackStreamOrder -v ^
--wd=&quot;/path/to/data/&quot; --d8_pntr=D8.tif --streams=streams.tif ^
-o=output.tif --esri_pntr --zero_background 
</code></pre>
<p><a href="https://github.com/jblindsay/whitebox-tools/blob/master/whitebox-tools-app/src/tools/stream_network_analysis/hack_order.rs">Source code on GitHub</a></p>
<p><em>Author</em>: Dr. John Lindsay</p>
<p><em>Created</em>: 25/06/2017</p>
<p><em>Last Modified</em>: 18/10/2019</p>
<p><a name="HortonStreamOrder"></a></p>
<h1 id="hortonstreamorder"><a class="header" href="#hortonstreamorder">HortonStreamOrder</a></h1>
<p>This tool can be used to assign the Strahler stream order to each link in a stream network. Stream ordering is often used
in hydro-geomorphic and ecological studies to quantify the relative size and importance of a stream segment to the overall
river system. There are several competing stream ordering schemes. Based on to this common stream numbering system, headwater
stream links are assigned an order of one. Stream order only increases downstream when two links of equal order join, otherwise
the downstream link is assigned the larger of the two link orders.</p>
<p>Strahler order and Horton order are similar approaches to assigning stream network hierarchy. Horton stream
order essentially starts with the Strahler order scheme, but subsequently replaces each of the assigned stream order
value along the main trunk of the network with the order value of the outlet. The main channel is not treated
differently compared with other tributaries in the Strahler ordering scheme.</p>
<p>The user must specify the names of a streams raster image (<code>--streams</code>) and D8 pointer image (<code>--d8_pntr</code>). Stream cells
are designated in the streams image as all positive, nonzero values. Thus all non-stream or background grid cells are
commonly assigned either zeros or NoData values. The pointer image is used to traverse the stream network and should only
be created using the D8 algorithm (<a href="./hydrological_analysis.html#d8pointer"><strong>D8Pointer</strong></a>). Background cells will be assigned the NoData value in the output image, unless the
<code>--zero_background</code> parameter is used, in which case non-stream cells will be assinged zero values in the output.</p>
<p>By default, the pointer raster is assumed to use the clockwise indexing method used by WhiteboxTools.
If the pointer file contains ESRI flow direction values instead, the <code>--esri_pntr</code> parameter must be specified.</p>
<p><em>Reference</em>:</p>
<p>Horton, R. E. (1945). Erosional development of streams and their drainage basins; hydrophysical approach to quantitative
morphology. Geological society of America bulletin, 56(3), 275-370.</p>
<p><em>See Also</em>:
<a href="./stream_network_analysis.html#hackstreamorder"><strong>HackStreamOrder</strong></a>, <a href="./stream_network_analysis.html#shrevestreammagnitude"><strong>ShreveStreamMagnitude</strong></a>, <a href="./stream_network_analysis.html#strahlerstreamorder"><strong>StrahlerStreamOrder</strong></a>, <a href="./stream_network_analysis.html#topologicalstreamorder"><strong>TopologicalStreamOrder</strong></a></p>
<p><em>Parameters</em>:</p>
<table><thead><tr><th><strong>Flag</strong></th><th><strong>Description</strong></th></tr></thead><tbody>
<tr><td>--d8_pntr</td><td>Input raster D8 pointer file</td></tr>
<tr><td>--streams</td><td>Input raster streams file</td></tr>
<tr><td>-o, --output</td><td>Output raster file</td></tr>
<tr><td>--esri_pntr</td><td>D8 pointer uses the ESRI style scheme</td></tr>
<tr><td>--zero_background</td><td>Flag indicating whether a background value of zero should be used</td></tr>
</tbody></table>
<p><em>Python function</em>:</p>
<pre><code class="language-python">wbt.horton_stream_order(
    d8_pntr, 
    streams, 
    output, 
    esri_pntr=False, 
    zero_background=False, 
    callback=default_callback
)
</code></pre>
<p><em>Command-line Interface</em>:</p>
<pre><code>&gt;&gt;./whitebox_tools -r=HortonStreamOrder -v ^
--wd=&quot;/path/to/data/&quot; --d8_pntr=D8.tif --streams=streams.tif ^
-o=output.tif
&gt;&gt;./whitebox_tools -r=HortonStreamOrder -v ^
--wd=&quot;/path/to/data/&quot; --d8_pntr=D8.tif --streams=streams.tif ^
-o=output.tif --esri_pntr --zero_background 
</code></pre>
<p><a href="https://github.com/jblindsay/whitebox-tools/blob/master/whitebox-tools-app/src/tools/stream_network_analysis/horton_order.rs">Source code on GitHub</a></p>
<p><em>Author</em>: Dr. John Lindsay</p>
<p><em>Created</em>: 25/06/2017</p>
<p><em>Last Modified</em>: 18/10/2019</p>
<p><a name="LengthOfUpstreamChannels"></a></p>
<h1 id="lengthofupstreamchannels"><a class="header" href="#lengthofupstreamchannels">LengthOfUpstreamChannels</a></h1>
<p>This tool calculates, for each stream grid cell in an input streams raster (<code>--streams</code>) the
total length of channels upstream. The user must specify the name of a raster containing streams data (<code>--streams</code>), where
stream grid cells are denoted by all positive non-zero values, and a D8 flow pointer (i.e. flow direction) raster
(<code>--d8_pntr</code>). The pointer image is used to traverse the stream network and must only be created using the D8 algorithm.
Stream cells are designated in the streams image as all values greater than zero. Thus, all non-stream or background
grid cells are commonly assigned either zeros or NoData values. Background cells will be assigned the NoData value
in the output image, unless the <code>--zero_background</code> parameter is used, in which case non-stream cells will be assinged
zero values in the output.</p>
<p>By default, the pointer raster is assumed to use the clockwise indexing method used by WhiteboxTools.
If the pointer file contains ESRI flow direction values instead, the <code>--esri_pntr</code> parameter must be specified.</p>
<p><em>See Also</em>:
<a href="./stream_network_analysis.html#farthestchannelhead"><strong>FarthestChannelHead</strong></a>, <a href="./stream_network_analysis.html#findmainstem"><strong>FindMainStem</strong></a></p>
<p><em>Parameters</em>:</p>
<table><thead><tr><th><strong>Flag</strong></th><th><strong>Description</strong></th></tr></thead><tbody>
<tr><td>--d8_pntr</td><td>Input raster D8 pointer file</td></tr>
<tr><td>--streams</td><td>Input raster streams file</td></tr>
<tr><td>-o, --output</td><td>Output raster file</td></tr>
<tr><td>--esri_pntr</td><td>D8 pointer uses the ESRI style scheme</td></tr>
<tr><td>--zero_background</td><td>Flag indicating whether a background value of zero should be used</td></tr>
</tbody></table>
<p><em>Python function</em>:</p>
<pre><code class="language-python">wbt.length_of_upstream_channels(
    d8_pntr, 
    streams, 
    output, 
    esri_pntr=False, 
    zero_background=False, 
    callback=default_callback
)
</code></pre>
<p><em>Command-line Interface</em>:</p>
<pre><code>&gt;&gt;./whitebox_tools -r=LengthOfUpstreamChannels -v ^
--wd=&quot;/path/to/data/&quot; --d8_pntr=D8.tif --streams=streams.tif ^
-o=output.tif
&gt;&gt;./whitebox_tools -r=LengthOfUpstreamChannels -v ^
--wd=&quot;/path/to/data/&quot; --d8_pntr=D8.tif --streams=streams.tif ^
-o=output.tif --esri_pntr --zero_background 
</code></pre>
<p><a href="https://github.com/jblindsay/whitebox-tools/blob/master/whitebox-tools-app/src/tools/stream_network_analysis/total_length_channels.rs">Source code on GitHub</a></p>
<p><em>Author</em>: Dr. John Lindsay</p>
<p><em>Created</em>: 11/07/2017</p>
<p><em>Last Modified</em>: 18/10/2019</p>
<p><a name="LongProfile"></a></p>
<h1 id="longprofile"><a class="header" href="#longprofile">LongProfile</a></h1>
<p>This tool can be used to create a <a href="http://www.fao.org/docrep/003/X6841E/X6841E02.HTM">longitudinal profile</a> plot.
A longitudinal stream profile is a plot of elevation against downstream distance. Most long profiles use distance
from channel head as the distance measure. This tool, however, uses the distance to the stream network outlet cell,
or mouth, as the distance measure. The reason for this difference is that while for any one location within a stream
network there is only ever one downstream outlet, there is usually many upstream channel heads. Thus plotted using
the traditional downstream-distance method, the same point within a network will plot in many different long profile
locations, whereas it will always plot on one unique location in the distance-to-mouth method. One consequence of
this difference is that the long profile will be oriented from right-to-left rather than left-to-right, as would
traditionally be the case.</p>
<p>The tool outputs an interactive SVG line graph embedded in an HTML document (<code>--output</code>). The user must specify the
names of a D8 pointer (<code>--d8_pntr</code>) image (flow direction), a streams raster image
(<code>--streams</code>), and a digital elevation model (<code>--dem</code>). Stream cells are designated in the streams image as all
positive, nonzero values. Thus all non-stream or background grid cells are commonly assigned either zeros or NoData
values. The pointer image is used to traverse the stream network and should only be created using the D8 algorithm
(<a href="./hydrological_analysis.html#d8pointer"><strong>D8Pointer</strong></a>). The streams image should be derived using a flow accumulation based stream network extraction
algorithm, also based on the D8 flow algorithm.</p>
<p>By default, the pointer raster is assumed to use the clockwise indexing method used by WhiteboxTools.
If the pointer file contains ESRI flow direction values instead, the <code>--esri_pntr</code> parameter must be specified.</p>
<p><em>See Also</em>:
<a href="./stream_network_analysis.html#longprofilefrompoints"><strong>LongProfileFromPoints</strong></a>, <a href="./geomorphometric_analysis.html#profile"><strong>Profile</strong></a>, <a href="./hydrological_analysis.html#d8pointer"><strong>D8Pointer</strong></a></p>
<p><em>Parameters</em>:</p>
<table><thead><tr><th><strong>Flag</strong></th><th><strong>Description</strong></th></tr></thead><tbody>
<tr><td>--d8_pntr</td><td>Input raster D8 pointer file</td></tr>
<tr><td>--streams</td><td>Input raster streams file</td></tr>
<tr><td>--dem</td><td>Input raster DEM file</td></tr>
<tr><td>-o, --output</td><td>Output HTML file</td></tr>
<tr><td>--esri_pntr</td><td>D8 pointer uses the ESRI style scheme</td></tr>
</tbody></table>
<p><em>Python function</em>:</p>
<pre><code class="language-python">wbt.long_profile(
    d8_pntr, 
    streams, 
    dem, 
    output, 
    esri_pntr=False, 
    callback=default_callback
)
</code></pre>
<p><em>Command-line Interface</em>:</p>
<pre><code>&gt;&gt;./whitebox_tools -r=LongProfile -v --wd=&quot;/path/to/data/&quot; ^
--d8_pntr=D8.tif --streams=streams.tif --dem=dem.tif ^
-o=output.html --esri_pntr 
</code></pre>
<p><a href="https://github.com/jblindsay/whitebox-tools/blob/master/whitebox-tools-app/src/tools/stream_network_analysis/long_profile.rs">Source code on GitHub</a></p>
<p><em>Author</em>: Dr. John Lindsay</p>
<p><em>Created</em>: 20/02/2018</p>
<p><em>Last Modified</em>: 18/10/2019</p>
<p><a name="LongProfileFromPoints"></a></p>
<h1 id="longprofilefrompoints"><a class="header" href="#longprofilefrompoints">LongProfileFromPoints</a></h1>
<p>This tool can be used to create a <a href="http://www.fao.org/docrep/003/X6841E/X6841E02.HTM">longitudinal profile</a> plot
for a set of vector points (<code>--points</code>).  A longitudinal stream profile is a plot of elevation against downstream
distance. Most long profiles use distance from channel head as the distance measure. This tool, however, uses the
distance to the outlet cell, or mouth, as the distance measure.</p>
<p>The tool outputs an interactive SVG line graph embedded in an HTML document (<code>--output</code>). The user must specify the
names of a D8 pointer (<code>--d8_pntr</code>) image (flow direction), a vector points file (<code>--points</code>), and a digital
elevation model (<code>--dem</code>). The pointer image is used to traverse the flow path issuing from each initiation point
in the vector file; this pointer file should only be created using the D8 algorithm (<a href="./hydrological_analysis.html#d8pointer"><strong>D8Pointer</strong></a>).</p>
<p>By default, the pointer raster is assumed to use the clockwise indexing method used by WhiteboxTools.
If the pointer file contains ESRI flow direction values instead, the <code>--esri_pntr</code> parameter must be specified.</p>
<p><em>See Also</em>:
<a href="./stream_network_analysis.html#longprofile"><strong>LongProfile</strong></a>, <a href="./geomorphometric_analysis.html#profile"><strong>Profile</strong></a>, <a href="./hydrological_analysis.html#d8pointer"><strong>D8Pointer</strong></a></p>
<p><em>Parameters</em>:</p>
<table><thead><tr><th><strong>Flag</strong></th><th><strong>Description</strong></th></tr></thead><tbody>
<tr><td>--d8_pntr</td><td>Input raster D8 pointer file</td></tr>
<tr><td>--points</td><td>Input vector points file</td></tr>
<tr><td>--dem</td><td>Input raster DEM file</td></tr>
<tr><td>-o, --output</td><td>Output HTML file</td></tr>
<tr><td>--esri_pntr</td><td>D8 pointer uses the ESRI style scheme</td></tr>
</tbody></table>
<p><em>Python function</em>:</p>
<pre><code class="language-python">wbt.long_profile_from_points(
    d8_pntr, 
    points, 
    dem, 
    output, 
    esri_pntr=False, 
    callback=default_callback
)
</code></pre>
<p><em>Command-line Interface</em>:</p>
<pre><code>&gt;&gt;./whitebox_tools -r=LongProfileFromPoints -v ^
--wd=&quot;/path/to/data/&quot; --d8_pntr=D8.tif --points=stream_head.shp ^
--dem=dem.tif -o=output.html --esri_pntr 
</code></pre>
<p><a href="https://github.com/jblindsay/whitebox-tools/blob/master/whitebox-tools-app/src/tools/stream_network_analysis/long_profile_from_points.rs">Source code on GitHub</a></p>
<p><em>Author</em>: Dr. John Lindsay</p>
<p><em>Created</em>: 21/02/2018</p>
<p><em>Last Modified</em>: 18/10/2019</p>
<p><a name="RasterStreamsToVector"></a></p>
<h1 id="rasterstreamstovector"><a class="header" href="#rasterstreamstovector">RasterStreamsToVector</a></h1>
<p>This tool converts a raster stream file into a vector file. The user must specify: 1)
the name of the raster streams file, 2) the name of the D8 flow pointer file,
and 3) the name of the output vector file. Streams in the input raster streams
file are denoted by cells containing any positive, non-zero integer. A field in
the vector database file, called STRM_VAL, will correspond to this positive
integer value. The database file will also have a field for the length of each
link in the stream network. The flow pointer file must be calculated from a DEM with
all topographic depressions and flat areas removed and must be calculated using the
D8 flow pointer algorithm. The output vector will contain PolyLine features.</p>
<p><em>See Also</em>:
<a href="./stream_network_analysis.html#rasterizestreams"><strong>RasterizeStreams</strong></a>, <a href="./data_tools.html#rastertovectorlines"><strong>RasterToVectorLines</strong></a></p>
<p><em>Parameters</em>:</p>
<table><thead><tr><th><strong>Flag</strong></th><th><strong>Description</strong></th></tr></thead><tbody>
<tr><td>--streams</td><td>Input raster streams file</td></tr>
<tr><td>--d8_pntr</td><td>Input raster D8 pointer file</td></tr>
<tr><td>-o, --output</td><td>Output vector file</td></tr>
<tr><td>--esri_pntr</td><td>D8 pointer uses the ESRI style scheme</td></tr>
</tbody></table>
<p><em>Python function</em>:</p>
<pre><code class="language-python">wbt.raster_streams_to_vector(
    streams, 
    d8_pntr, 
    output, 
    esri_pntr=False, 
    callback=default_callback
)
</code></pre>
<p><em>Command-line Interface</em>:</p>
<pre><code>&gt;&gt;./whitebox_tools -r=RasterStreamsToVector -v ^
--wd=&quot;/path/to/data/&quot; --streams=streams.tif --d8_pntr=D8.tif ^
-o=output.shp
&gt;&gt;./whitebox_tools -r=RasterStreamsToVector -v ^
--wd=&quot;/path/to/data/&quot; --streams=streams.tif --d8_pntr=D8.tif ^
-o=output.shp --esri_pntr 
</code></pre>
<p><a href="https://github.com/jblindsay/whitebox-tools/blob/master/whitebox-tools-app/src/tools/stream_network_analysis/raster_streams_to_vector.rs">Source code on GitHub</a></p>
<p><em>Author</em>: Dr. John Lindsay</p>
<p><em>Created</em>: 24/09/2018</p>
<p><em>Last Modified</em>: 18/10/2019</p>
<p><a name="RasterizeStreams"></a></p>
<h1 id="rasterizestreams"><a class="header" href="#rasterizestreams">RasterizeStreams</a></h1>
<p>This tool can be used rasterize an input vector stream network (<code>--streams</code>) using on Lindsay (2016) method.
The user must specify the name of an existing raster (<code>--base</code>), from which the output raster's grid resolution
is determined.</p>
<p><em>Reference</em>:</p>
<p>Lindsay JB. 2016. The practice of DEM stream burning revisited. Earth Surface Processes and Landforms,
41(5): 658–668. DOI: 10.1002/esp.3888</p>
<p><em>See Also</em>:
<a href="./stream_network_analysis.html#rasterstreamstovector"><strong>RasterStreamsToVector</strong></a></p>
<p><em>Parameters</em>:</p>
<table><thead><tr><th><strong>Flag</strong></th><th><strong>Description</strong></th></tr></thead><tbody>
<tr><td>--streams</td><td>Input vector streams file</td></tr>
<tr><td>--base</td><td>Input base raster file</td></tr>
<tr><td>-o, --output</td><td>Output raster file</td></tr>
<tr><td>--nodata</td><td>Use NoData value for background?</td></tr>
<tr><td>--feature_id</td><td>Use feature number as output value?</td></tr>
</tbody></table>
<p><em>Python function</em>:</p>
<pre><code class="language-python">wbt.rasterize_streams(
    streams, 
    base, 
    output, 
    nodata=True, 
    feature_id=False, 
    callback=default_callback
)
</code></pre>
<p><em>Command-line Interface</em>:</p>
<pre><code>&gt;&gt;./whitebox_tools -r=RasterizeStreams -v ^
--wd=&quot;/path/to/data/&quot; --streams=streams.shp --base=raster.tif ^
-o=output.tif 
</code></pre>
<p><a href="https://github.com/jblindsay/whitebox-tools/blob/master/whitebox-tools-app/src/tools/stream_network_analysis/rasterize_streams.rs">Source code on GitHub</a></p>
<p><em>Author</em>: Dr. John Lindsay</p>
<p><em>Created</em>: 11/03/2018</p>
<p><em>Last Modified</em>: 22/10/2019</p>
<p><a name="RemoveShortStreams"></a></p>
<h1 id="removeshortstreams"><a class="header" href="#removeshortstreams">RemoveShortStreams</a></h1>
<p>This tool can be used to remove stream links in a stream network that are shorter than a user-specified length (<code>--min_length</code>).
The user must specify the names of a streams raster image (<code>--streams</code>) and D8 pointer image (<code>--d8_pntr</code>). Stream cells
are designated in the streams raster as all positive, nonzero values. Thus all non-stream or background grid cells are
commonly assigned either zeros or NoData values. The pointer raster is used to traverse the stream network and should only
be created using the D8 algorithm. Background cells will be assigned the NoData value in the output image, unless the
<code>--zero_background</code> parameter is used, in which case non-stream cells will be assinged zero values in the output.</p>
<p>By default, the pointer raster is assumed to use the clockwise indexing method used by WhiteboxTools.
If the pointer file contains ESRI flow direction values instead, the <code>--esri_pntr</code> parameter must be specified.</p>
<p><em>See Also</em>:
<a href="./stream_network_analysis.html#extractstreams"><strong>ExtractStreams</strong></a></p>
<p><em>Parameters</em>:</p>
<table><thead><tr><th><strong>Flag</strong></th><th><strong>Description</strong></th></tr></thead><tbody>
<tr><td>--d8_pntr</td><td>Input raster D8 pointer file</td></tr>
<tr><td>--streams</td><td>Input raster streams file</td></tr>
<tr><td>-o, --output</td><td>Output raster file</td></tr>
<tr><td>--min_length</td><td>Minimum tributary length (in map units) used for network pruning</td></tr>
<tr><td>--esri_pntr</td><td>D8 pointer uses the ESRI style scheme</td></tr>
</tbody></table>
<p><em>Python function</em>:</p>
<pre><code class="language-python">wbt.remove_short_streams(
    d8_pntr, 
    streams, 
    output, 
    min_length, 
    esri_pntr=False, 
    callback=default_callback
)
</code></pre>
<p><em>Command-line Interface</em>:</p>
<pre><code>&gt;&gt;./whitebox_tools -r=RemoveShortStreams -v ^
--wd=&quot;/path/to/data/&quot; --d8_pntr=D8.tif --streams=streams.tif ^
-o=output.tif 
</code></pre>
<p><a href="https://github.com/jblindsay/whitebox-tools/blob/master/whitebox-tools-app/src/tools/stream_network_analysis/remove_short_streams.rs">Source code on GitHub</a></p>
<p><em>Author</em>: Dr. John Lindsay</p>
<p><em>Created</em>: 28/06/2017</p>
<p><em>Last Modified</em>: 30/01/2020</p>
<p><a name="ShreveStreamMagnitude"></a></p>
<h1 id="shrevestreammagnitude"><a class="header" href="#shrevestreammagnitude">ShreveStreamMagnitude</a></h1>
<p>This tool can be used to assign the Shreve stream magnitude to each link in a stream network. Stream ordering is often used
in hydro-geomorphic and ecological studies to quantify the relative size and importance of a stream segment to the overall
river system. There are several competing stream ordering schemes. Shreve stream magnitude is equal to the number of
headwater links upstream of each link. Headwater stream links are assigned a magnitude of one.</p>
<p>The user must specify the names of a streams raster image (<code>--streams</code>) and D8 pointer image (<code>--d8_pntr</code>). Stream cells
are designated in the streams raster as all positive, nonzero values. Thus all non-stream or background grid cells are
commonly assigned either zeros or NoData values. The pointer image is used to traverse the stream network and should only
be created using the D8 algorithm. Background cells will be assigned the NoData value in the output image, unless the
<code>--zero_background</code> parameter is used, in which case non-stream cells will be assinged zero values in the output.</p>
<p>By default, the pointer raster is assumed to use the clockwise indexing method used by WhiteboxTools.
If the pointer file contains ESRI flow direction values instead, the <code>--esri_pntr</code> parameter must be specified.</p>
<p><em>Reference</em>:</p>
<p>Shreve, R. L. (1966). Statistical law of stream numbers. The Journal of Geology, 74(1), 17-37.</p>
<p><em>See Also</em>:
<a href="./stream_network_analysis.html#hortonstreamorder"><strong>HortonStreamOrder</strong></a>, <a href="./stream_network_analysis.html#hackstreamorder"><strong>HackStreamOrder</strong></a>, <a href="./stream_network_analysis.html#strahlerstreamorder"><strong>StrahlerStreamOrder</strong></a>, <a href="./stream_network_analysis.html#topologicalstreamorder"><strong>TopologicalStreamOrder</strong></a></p>
<p><em>Parameters</em>:</p>
<table><thead><tr><th><strong>Flag</strong></th><th><strong>Description</strong></th></tr></thead><tbody>
<tr><td>--d8_pntr</td><td>Input raster D8 pointer file</td></tr>
<tr><td>--streams</td><td>Input raster streams file</td></tr>
<tr><td>-o, --output</td><td>Output raster file</td></tr>
<tr><td>--esri_pntr</td><td>D8 pointer uses the ESRI style scheme</td></tr>
<tr><td>--zero_background</td><td>Flag indicating whether a background value of zero should be used</td></tr>
</tbody></table>
<p><em>Python function</em>:</p>
<pre><code class="language-python">wbt.shreve_stream_magnitude(
    d8_pntr, 
    streams, 
    output, 
    esri_pntr=False, 
    zero_background=False, 
    callback=default_callback
)
</code></pre>
<p><em>Command-line Interface</em>:</p>
<pre><code>&gt;&gt;./whitebox_tools -r=ShreveStreamMagnitude -v ^
--wd=&quot;/path/to/data/&quot; --d8_pntr=D8.tif --streams=streams.tif ^
-o=output.tif
&gt;&gt;./whitebox_tools -r=ShreveStreamMagnitude -v ^
--wd=&quot;/path/to/data/&quot; --d8_pntr=D8.tif --streams=streams.tif ^
-o=output.tif --esri_pntr --zero_background 
</code></pre>
<p><a href="https://github.com/jblindsay/whitebox-tools/blob/master/whitebox-tools-app/src/tools/stream_network_analysis/shreve_magnitude.rs">Source code on GitHub</a></p>
<p><em>Author</em>: Dr. John Lindsay</p>
<p><em>Created</em>: 28/06/2017</p>
<p><em>Last Modified</em>: 18/10/2019</p>
<p><a name="StrahlerStreamOrder"></a></p>
<h1 id="strahlerstreamorder"><a class="header" href="#strahlerstreamorder">StrahlerStreamOrder</a></h1>
<p>This tool can be used to assign the Strahler stream order to each link in a stream network. Stream ordering is often used
in hydro-geomorphic and ecological studies to quantify the relative size and importance of a stream segment to the overall
river system. There are several competing stream ordering schemes. Based on to this common stream numbering system, headwater
stream links are assigned an order of one. Stream order only increases downstream when two links of equal order join, otherwise
the downstream link is assigned the larger of the two link orders.</p>
<p>Strahler order and Horton order are similar approaches to assigning stream network hierarchy. Horton stream
order essentially starts with the Strahler order scheme, but subsequently replaces each of the assigned stream order
value along the main trunk of the network with the order value of the outlet. The main channel is not treated
differently compared with other tributaries in the Strahler ordering scheme.</p>
<p>The user must specify the names of a streams raster image (<code>--streams</code>) and D8 pointer image (<code>--d8_pntr</code>). Stream cells
are designated in the streams image as all positive, nonzero values. Thus all non-stream or background grid cells are
commonly assigned either zeros or NoData values. The pointer image is used to traverse the stream network and should only
be created using the D8 algorithm. Background cells will be assigned the NoData value in the output image, unless the
<code>--zero_background</code> parameter is used, in which case non-stream cells will be assinged zero values in the output.</p>
<p>By default, the pointer raster is assumed to use the clockwise indexing method used by WhiteboxTools.
If the pointer file contains ESRI flow direction values instead, the <code>--esri_pntr</code> parameter must be specified.</p>
<p><em>Reference</em>:</p>
<p>Strahler, A. N. (1957). Quantitative analysis of watershed geomorphology. Eos, Transactions American Geophysical Union,
38(6), 913-920.</p>
<p><em>See Also</em>:
<a href="./stream_network_analysis.html#hortonstreamorder"><strong>HortonStreamOrder</strong></a>, <a href="./stream_network_analysis.html#hackstreamorder"><strong>HackStreamOrder</strong></a>, <a href="./stream_network_analysis.html#shrevestreammagnitude"><strong>ShreveStreamMagnitude</strong></a>, <a href="./stream_network_analysis.html#topologicalstreamorder"><strong>TopologicalStreamOrder</strong></a></p>
<p><em>Parameters</em>:</p>
<table><thead><tr><th><strong>Flag</strong></th><th><strong>Description</strong></th></tr></thead><tbody>
<tr><td>--d8_pntr</td><td>Input raster D8 pointer file</td></tr>
<tr><td>--streams</td><td>Input raster streams file</td></tr>
<tr><td>-o, --output</td><td>Output raster file</td></tr>
<tr><td>--esri_pntr</td><td>D8 pointer uses the ESRI style scheme</td></tr>
<tr><td>--zero_background</td><td>Flag indicating whether a background value of zero should be used</td></tr>
</tbody></table>
<p><em>Python function</em>:</p>
<pre><code class="language-python">wbt.strahler_stream_order(
    d8_pntr, 
    streams, 
    output, 
    esri_pntr=False, 
    zero_background=False, 
    callback=default_callback
)
</code></pre>
<p><em>Command-line Interface</em>:</p>
<pre><code>&gt;&gt;./whitebox_tools -r=StrahlerStreamOrder -v ^
--wd=&quot;/path/to/data/&quot; --d8_pntr=D8.tif --streams=streams.tif ^
-o=output.tif
&gt;&gt;./whitebox_tools -r=StrahlerStreamOrder -v ^
--wd=&quot;/path/to/data/&quot; --d8_pntr=D8.tif --streams=streams.tif ^
-o=output.tif --esri_pntr --zero_background 
</code></pre>
<p><a href="https://github.com/jblindsay/whitebox-tools/blob/master/whitebox-tools-app/src/tools/stream_network_analysis/strahler_order.rs">Source code on GitHub</a></p>
<p><em>Author</em>: Dr. John Lindsay</p>
<p><em>Created</em>: 25/06/2017</p>
<p><em>Last Modified</em>: 18/10/2019</p>
<p><a name="StreamLinkClass"></a></p>
<h1 id="streamlinkclass"><a class="header" href="#streamlinkclass">StreamLinkClass</a></h1>
<p>This tool identifies all interior and exterior links, and source, link, and sink nodes in an input stream network
(<code>--streams</code>). The input streams file is used to designate which grid cells contain a stream and the pointer
image is used to traverse the stream network. Stream cells are designated in the streams image as all values
greater than zero. Thus, all non-stream or background grid cells are commonly assigned either zeros or NoData
values. Background cells will be assigned the NoData value in the output image, unless the <code>--zero_background</code>
parameter is used, in which case non-stream cells will be assinged zero values in the output.</p>
<p>Each feature is assigned the following identifier in the output image:</p>
<table><thead><tr><th>Value</th><th>Stream Type</th></tr></thead><tbody>
<tr><td>1</td><td>Exterior Link</td></tr>
<tr><td>2</td><td>Interior Link</td></tr>
<tr><td>3</td><td>Source Node (head water)</td></tr>
<tr><td>4</td><td>Link Node</td></tr>
<tr><td>5</td><td>Sink Node</td></tr>
</tbody></table>
<p>The user must specify the names of an input stream file, a pointer (flow direction) file (<code>--d8_pntr</code>)
and the output raster file (<code>--output</code>). The flow pointer and streams rasters should be generated
using the <a href="./hydrological_analysis.html#d8pointer"><strong>D8Pointer</strong></a> algorithm. This will require a depressionless DEM, processed using either the
<a href="./hydrological_analysis.html#breachdepressions"><strong>BreachDepressions</strong></a> or <a href="./hydrological_analysis.html#filldepressions"><strong>FillDepressions</strong></a> tool. flow direction) raster, and the output raster.</p>
<p>By default, the pointer raster is assumed to use the clockwise indexing method used by WhiteboxTools.
If the pointer file contains ESRI flow direction values instead, the <code>--esri_pntr</code> parameter must be specified.</p>
<p><em>See Also</em>:
<a href="./stream_network_analysis.html#streamlinkidentifier"><strong>StreamLinkIdentifier</strong></a></p>
<p><em>Parameters</em>:</p>
<table><thead><tr><th><strong>Flag</strong></th><th><strong>Description</strong></th></tr></thead><tbody>
<tr><td>--d8_pntr</td><td>Input raster D8 pointer file</td></tr>
<tr><td>--streams</td><td>Input raster streams file</td></tr>
<tr><td>-o, --output</td><td>Output raster file</td></tr>
<tr><td>--esri_pntr</td><td>D8 pointer uses the ESRI style scheme</td></tr>
<tr><td>--zero_background</td><td>Flag indicating whether a background value of zero should be used</td></tr>
</tbody></table>
<p><em>Python function</em>:</p>
<pre><code class="language-python">wbt.stream_link_class(
    d8_pntr, 
    streams, 
    output, 
    esri_pntr=False, 
    zero_background=False, 
    callback=default_callback
)
</code></pre>
<p><em>Command-line Interface</em>:</p>
<pre><code>&gt;&gt;./whitebox_tools -r=StreamLinkClass -v ^
--wd=&quot;/path/to/data/&quot; --d8_pntr=D8.tif --streams=streams.tif ^
-o=output.tif
&gt;&gt;./whitebox_tools -r=StreamLinkClass -v ^
--wd=&quot;/path/to/data/&quot; --d8_pntr=D8.tif --streams=streams.tif ^
-o=output.tif --esri_pntr --zero_background 
</code></pre>
<p><a href="https://github.com/jblindsay/whitebox-tools/blob/master/whitebox-tools-app/src/tools/stream_network_analysis/stream_link_class.rs">Source code on GitHub</a></p>
<p><em>Author</em>: Dr. John Lindsay</p>
<p><em>Created</em>: 12/07/2017</p>
<p><em>Last Modified</em>: 10/10/2019</p>
<p><a name="StreamLinkIdentifier"></a></p>
<h1 id="streamlinkidentifier"><a class="header" href="#streamlinkidentifier">StreamLinkIdentifier</a></h1>
<p>This tool can be used to assign each link in a stream network a unique numeric identifier. This grid is
used by a number of other stream network analysis tools.</p>
<p>The input streams file (<code>--streams</code>) is used to designate which grid cells contain a stream and the pointer
image is used to traverse the stream network. Stream cells are designated in the streams image as all values
greater than zero. Thus, all non-stream or background grid cells are commonly assigned either zeros or NoData
values. Background cells will be assigned the NoData value in the output image, unless the <code>--zero_background</code>
parameter is used, in which case non-stream cells will be assinged zero values in the output.</p>
<p>The user must specify the name of a flow pointer (flow direction) raster (<code>--d8_pntr</code>), a streams raster
(<code>--streams</code>), and the output raster (<code>--output</code>). The flow pointer and streams rasters should be generated
using the <a href="./hydrological_analysis.html#d8pointer"><strong>D8Pointer</strong></a> algorithm. This will require a depressionless DEM, processed using either the
<a href="./hydrological_analysis.html#breachdepressions"><strong>BreachDepressions</strong></a> or <a href="./hydrological_analysis.html#filldepressions"><strong>FillDepressions</strong></a> tool. flow direction) raster, and the output raster.</p>
<p>By default, the pointer raster is assumed to use the clockwise indexing method used by WhiteboxTools.
If the pointer file contains ESRI flow direction values instead, the <code>--esri_pntr</code> parameter must be specified.</p>
<p><em>See Also</em>:
<a href="./hydrological_analysis.html#d8pointer"><strong>D8Pointer</strong></a>, <a href="./stream_network_analysis.html#tributaryidentifier"><strong>TributaryIdentifier</strong></a>, <a href="./hydrological_analysis.html#breachdepressions"><strong>BreachDepressions</strong></a>, <a href="./hydrological_analysis.html#filldepressions"><strong>FillDepressions</strong></a></p>
<p><em>Parameters</em>:</p>
<table><thead><tr><th><strong>Flag</strong></th><th><strong>Description</strong></th></tr></thead><tbody>
<tr><td>--d8_pntr</td><td>Input raster D8 pointer file</td></tr>
<tr><td>--streams</td><td>Input raster streams file</td></tr>
<tr><td>-o, --output</td><td>Output raster file</td></tr>
<tr><td>--esri_pntr</td><td>D8 pointer uses the ESRI style scheme</td></tr>
<tr><td>--zero_background</td><td>Flag indicating whether a background value of zero should be used</td></tr>
</tbody></table>
<p><em>Python function</em>:</p>
<pre><code class="language-python">wbt.stream_link_identifier(
    d8_pntr, 
    streams, 
    output, 
    esri_pntr=False, 
    zero_background=False, 
    callback=default_callback
)
</code></pre>
<p><em>Command-line Interface</em>:</p>
<pre><code>&gt;&gt;./whitebox_tools -r=StreamLinkIdentifier -v ^
--wd=&quot;/path/to/data/&quot; --d8_pntr=D8.tif --streams=streams.tif ^
-o=output.tif
&gt;&gt;./whitebox_tools -r=StreamLinkIdentifier -v ^
--wd=&quot;/path/to/data/&quot; --d8_pntr=D8.tif --streams=streams.tif ^
-o=output.tif --esri_pntr --zero_background 
</code></pre>
<p><a href="https://github.com/jblindsay/whitebox-tools/blob/master/whitebox-tools-app/src/tools/stream_network_analysis/stream_link_id.rs">Source code on GitHub</a></p>
<p><em>Author</em>: Dr. John Lindsay</p>
<p><em>Created</em>: 25/06/2017</p>
<p><em>Last Modified</em>: 03/09/2020</p>
<p><a name="StreamLinkLength"></a></p>
<h1 id="streamlinklength"><a class="header" href="#streamlinklength">StreamLinkLength</a></h1>
<p>This tool can be used to measure the length of each link in a stream network. The user must specify the names of
a stream link ID raster (<code>--linkid</code>), created using the <a href="./stream_network_analysis.html#streamlinkidentifier"><strong>StreamLinkIdentifier</strong></a> and D8 pointer raster (<code>--d8_pntr</code>).
The flow pointer raster is used to traverse the stream network and should only be created using the <a href="./hydrological_analysis.html#d8pointer"><strong>D8Pointer</strong></a> algorithm.
Stream cells are designated in the stream link ID raster as all non-zero, positive values. Background cells will be
assigned the NoData value in the output image, unless the <code>--zero_background</code> parameter is used, in which case non-stream
cells will be assinged zero values in the output.</p>
<p><em>See Also</em>:
<a href="./hydrological_analysis.html#d8pointer"><strong>D8Pointer</strong></a>, <a href="./stream_network_analysis.html#streamlinkslope"><strong>StreamLinkSlope</strong></a></p>
<p><em>Parameters</em>:</p>
<table><thead><tr><th><strong>Flag</strong></th><th><strong>Description</strong></th></tr></thead><tbody>
<tr><td>--d8_pntr</td><td>Input raster D8 pointer file</td></tr>
<tr><td>--linkid</td><td>Input raster streams link ID (or tributary ID) file</td></tr>
<tr><td>-o, --output</td><td>Output raster file</td></tr>
<tr><td>--esri_pntr</td><td>D8 pointer uses the ESRI style scheme</td></tr>
<tr><td>--zero_background</td><td>Flag indicating whether a background value of zero should be used</td></tr>
</tbody></table>
<p><em>Python function</em>:</p>
<pre><code class="language-python">wbt.stream_link_length(
    d8_pntr, 
    linkid, 
    output, 
    esri_pntr=False, 
    zero_background=False, 
    callback=default_callback
)
</code></pre>
<p><em>Command-line Interface</em>:</p>
<pre><code>&gt;&gt;./whitebox_tools -r=StreamLinkLength -v ^
--wd=&quot;/path/to/data/&quot; --d8_pntr=D8.tif --linkid=streamsID.tif ^
--dem=dem.tif -o=output.tif
&gt;&gt;./whitebox_tools ^
-r=StreamLinkLength -v --wd=&quot;/path/to/data/&quot; --d8_pntr=D8.tif ^
--linkid=streamsID.tif --dem=dem.tif -o=output.tif --esri_pntr ^
--zero_background 
</code></pre>
<p><a href="https://github.com/jblindsay/whitebox-tools/blob/master/whitebox-tools-app/src/tools/stream_network_analysis/stream_link_length.rs">Source code on GitHub</a></p>
<p><em>Author</em>: Dr. John Lindsay</p>
<p><em>Created</em>: 27/06/2017</p>
<p><em>Last Modified</em>: 18/10/2019</p>
<p><a name="StreamLinkSlope"></a></p>
<h1 id="streamlinkslope"><a class="header" href="#streamlinkslope">StreamLinkSlope</a></h1>
<p>This tool can be used to measure the average slope gradient, in degrees, of each link in a raster stream
network. To estimate the slope of individual grid cells in a raster stream network, use the
<a href="./stream_network_analysis.html#streamslopecontinuous"><strong>StreamSlopeContinuous</strong></a> tool instead. The user must specify the names of a stream link identifier raster image (<code>--linkid</code>), a D8
pointer image (<code>--d8_pntr</code>), and a digital elevation model (<code>--dem</code>). The pointer image is used to traverse the
stream network and must only be created using the D8 algorithm (<a href="./hydrological_analysis.html#d8pointer"><strong>D8Pointer</strong></a>).
Stream cells are designated in the streams image as all values greater than zero. Thus, all non-stream or background
grid cells are commonly assigned either zeros or NoData values. Background cells will be assigned the NoData value
in the output image, unless the <code>--zero_background</code> parameter is used, in which case non-stream cells will be assinged
zero values in the output.</p>
<p>By default, the pointer raster is assumed to use the clockwise indexing method used by WhiteboxTools.
If the pointer file contains ESRI flow direction values instead, the <code>--esri_pntr</code> parameter must be specified.</p>
<p><em>See Also</em>:
<a href="./stream_network_analysis.html#streamslopecontinuous"><strong>StreamSlopeContinuous</strong></a>, <a href="./hydrological_analysis.html#d8pointer"><strong>D8Pointer</strong></a></p>
<p><em>Parameters</em>:</p>
<table><thead><tr><th><strong>Flag</strong></th><th><strong>Description</strong></th></tr></thead><tbody>
<tr><td>--d8_pntr</td><td>Input raster D8 pointer file</td></tr>
<tr><td>--linkid</td><td>Input raster streams link ID (or tributary ID) file</td></tr>
<tr><td>-i, --dem</td><td>Input raster DEM file</td></tr>
<tr><td>-o, --output</td><td>Output raster file</td></tr>
<tr><td>--esri_pntr</td><td>D8 pointer uses the ESRI style scheme</td></tr>
<tr><td>--zero_background</td><td>Flag indicating whether a background value of zero should be used</td></tr>
</tbody></table>
<p><em>Python function</em>:</p>
<pre><code class="language-python">wbt.stream_link_slope(
    d8_pntr, 
    linkid, 
    dem, 
    output, 
    esri_pntr=False, 
    zero_background=False, 
    callback=default_callback
)
</code></pre>
<p><em>Command-line Interface</em>:</p>
<pre><code>&gt;&gt;./whitebox_tools -r=StreamLinkSlope -v ^
--wd=&quot;/path/to/data/&quot; --d8_pntr=D8.tif --linkid=streamsID.tif ^
--dem=dem.tif -o=output.tif
&gt;&gt;./whitebox_tools ^
-r=StreamLinkSlope -v --wd=&quot;/path/to/data/&quot; --d8_pntr=D8.tif ^
--linkid=streamsID.tif --dem=dem.tif -o=output.tif --esri_pntr ^
--zero_background 
</code></pre>
<p><a href="https://github.com/jblindsay/whitebox-tools/blob/master/whitebox-tools-app/src/tools/stream_network_analysis/stream_link_slope.rs">Source code on GitHub</a></p>
<p><em>Author</em>: Dr. John Lindsay</p>
<p><em>Created</em>: 27/06/2017</p>
<p><em>Last Modified</em>: 18/10/2019</p>
<p><a name="StreamSlopeContinuous"></a></p>
<h1 id="streamslopecontinuous"><a class="header" href="#streamslopecontinuous">StreamSlopeContinuous</a></h1>
<p>This tool can be used to measure the slope gradient, in degrees, each grid cell in a raster stream network. To
estimate the average slope for each link in a stream network, use the
<a href="./stream_network_analysis.html#streamlinkslope"><strong>StreamLinkSlope</strong></a> tool instead. The user must specify the names of a stream raster image (<code>--streams</code>), a D8
pointer image (<code>--d8_pntr</code>), and a digital elevation model (<code>--dem</code>). The pointer image is used to traverse the
stream network and must only be created using the D8 algorithm (<a href="./hydrological_analysis.html#d8pointer"><strong>D8Pointer</strong></a>).
Stream cells are designated in the streams image as all values greater than zero. Thus, all non-stream or background
grid cells are commonly assigned either zeros or NoData values. Background cells will be assigned the NoData value
in the output image, unless the <code>--zero_background</code> parameter is used, in which case non-stream cells will be assinged
zero values in the output.</p>
<p>By default, the pointer raster is assumed to use the clockwise indexing method used by WhiteboxTools.
If the pointer file contains ESRI flow direction values instead, the <code>--esri_pntr</code> parameter must be specified.</p>
<p><em>See Also</em>:
<a href="./stream_network_analysis.html#streamlinkslope"><strong>StreamLinkSlope</strong></a>, <a href="./hydrological_analysis.html#d8pointer"><strong>D8Pointer</strong></a></p>
<p><em>Parameters</em>:</p>
<table><thead><tr><th><strong>Flag</strong></th><th><strong>Description</strong></th></tr></thead><tbody>
<tr><td>--d8_pntr</td><td>Input raster D8 pointer file</td></tr>
<tr><td>--streams</td><td>Input raster streams file</td></tr>
<tr><td>-i, --dem</td><td>Input raster DEM file</td></tr>
<tr><td>-o, --output</td><td>Output raster file</td></tr>
<tr><td>--esri_pntr</td><td>D8 pointer uses the ESRI style scheme</td></tr>
<tr><td>--zero_background</td><td>Flag indicating whether a background value of zero should be used</td></tr>
</tbody></table>
<p><em>Python function</em>:</p>
<pre><code class="language-python">wbt.stream_slope_continuous(
    d8_pntr, 
    streams, 
    dem, 
    output, 
    esri_pntr=False, 
    zero_background=False, 
    callback=default_callback
)
</code></pre>
<p><em>Command-line Interface</em>:</p>
<pre><code>&gt;&gt;./whitebox_tools -r=StreamSlopeContinuous -v ^
--wd=&quot;/path/to/data/&quot; --d8_pntr=D8.tif --linkid=streamsID.tif ^
--dem=dem.tif -o=output.tif
&gt;&gt;./whitebox_tools ^
-r=StreamSlopeContinuous -v --wd=&quot;/path/to/data/&quot; ^
--d8_pntr=D8.tif --streams=streamsID.tif --dem=dem.tif ^
-o=output.tif --esri_pntr --zero_background 
</code></pre>
<p><a href="https://github.com/jblindsay/whitebox-tools/blob/master/whitebox-tools-app/src/tools/stream_network_analysis/stream_slope_continuous.rs">Source code on GitHub</a></p>
<p><em>Author</em>: Dr. John Lindsay</p>
<p><em>Created</em>: 06/07/2017</p>
<p><em>Last Modified</em>: 18/10/2019</p>
<p><a name="TopologicalStreamOrder"></a></p>
<h1 id="topologicalstreamorder"><a class="header" href="#topologicalstreamorder">TopologicalStreamOrder</a></h1>
<p>This tool can be used to assign the topological stream order to each link in a stream network. According to this
stream numbering system, the link directly draining to the outlet is assigned an order of one. Each of the two
tributaries draining to the order-one link are assigned an order of two, and so on until the most distant link from
the catchment outlet has been assigned an order. The topological order can therefore be thought of as a measure of
the topological distance of each link in the network to the catchment outlet and is likely to be related to travel time.</p>
<p>The user must specify the names of a streams raster image (<code>--streams</code>) and D8 pointer image (<code>--d8_pntr</code>). Stream cells
are designated in the streams image as all positive, nonzero values. Thus all non-stream or background grid cells are
commonly assigned either zeros or NoData values. The pointer image is used to traverse the stream network and should only
be created using the D8 algorithm. Background cells will be assigned the NoData value in the output image, unless the
<code>--zero_background</code> parameter is used, in which case non-stream cells will be assinged zero values in the output.</p>
<p>By default, the pointer raster is assumed to use the clockwise indexing method used by WhiteboxTools.
If the pointer file contains ESRI flow direction values instead, the <code>--esri_pntr</code> parameter must be specified.</p>
<p><em>See Also</em>:
<a href="./stream_network_analysis.html#hackstreamorder"><strong>HackStreamOrder</strong></a>, <a href="./stream_network_analysis.html#hortonstreamorder"><strong>HortonStreamOrder</strong></a>, <a href="./stream_network_analysis.html#strahlerstreamorder"><strong>StrahlerStreamOrder</strong></a>, <a href="./stream_network_analysis.html#shrevestreammagnitude"><strong>ShreveStreamMagnitude</strong></a></p>
<p><em>Parameters</em>:</p>
<table><thead><tr><th><strong>Flag</strong></th><th><strong>Description</strong></th></tr></thead><tbody>
<tr><td>--d8_pntr</td><td>Input raster D8 pointer file</td></tr>
<tr><td>--streams</td><td>Input raster streams file</td></tr>
<tr><td>-o, --output</td><td>Output raster file</td></tr>
<tr><td>--esri_pntr</td><td>D8 pointer uses the ESRI style scheme</td></tr>
<tr><td>--zero_background</td><td>Flag indicating whether a background value of zero should be used</td></tr>
</tbody></table>
<p><em>Python function</em>:</p>
<pre><code class="language-python">wbt.topological_stream_order(
    d8_pntr, 
    streams, 
    output, 
    esri_pntr=False, 
    zero_background=False, 
    callback=default_callback
)
</code></pre>
<p><em>Command-line Interface</em>:</p>
<pre><code>&gt;&gt;./whitebox_tools -r=TopologicalStreamOrder -v ^
--wd=&quot;/path/to/data/&quot; --d8_pntr=D8.tif --streams=streams.tif ^
-o=output.tif
&gt;&gt;./whitebox_tools -r=TopologicalStreamOrder -v ^
--wd=&quot;/path/to/data/&quot; --d8_pntr=D8.tif --streams=streams.tif ^
-o=output.tif --esri_pntr --zero_background 
</code></pre>
<p><a href="https://github.com/jblindsay/whitebox-tools/blob/master/whitebox-tools-app/src/tools/stream_network_analysis/topological_stream_order.rs">Source code on GitHub</a></p>
<p><em>Author</em>: Dr. John Lindsay</p>
<p><em>Created</em>: 28/06/2017</p>
<p><em>Last Modified</em>: 18/10/2019</p>
<p><a name="TributaryIdentifier"></a></p>
<h1 id="tributaryidentifier"><a class="header" href="#tributaryidentifier">TributaryIdentifier</a></h1>
<p>This tool can be used to assigns a unique identifier to each tributary in a stream network. A tributary is
a section of a stream network extending from a channel head downstream to a confluence with a larger stream.
Relative stream size is estimated using stream length as a surrogate. Tributaries therefore extend from channel
heads downstream until a confluence is encountered in which the intersecting stream is longer, or an outlet
cell is detected.</p>
<p>The input streams file (<code>--streams</code>) is used to designate which grid cells contain a stream and the pointer
image is used to traverse the stream network. Stream cells are designated in the streams image as all values
greater than zero. Thus, all non-stream or background grid cells are commonly assigned either zeros or NoData
values. Background cells will be assigned the NoData value in the output image, unless the <code>--zero_background</code>
parameter is used, in which case non-stream cells will be assinged zero values in the output.</p>
<p>The user must specify the name of a flow pointer (flow direction) raster (<code>--d8_pntr</code>), a streams raster
(<code>--streams</code>), and the output raster (<code>--output</code>). The flow pointer and streams rasters should be generated
using the <a href="./hydrological_analysis.html#d8pointer"><strong>D8Pointer</strong></a> algorithm. This will require a depressionless DEM, processed using either the
<a href="./hydrological_analysis.html#breachdepressions"><strong>BreachDepressions</strong></a> or <a href="./hydrological_analysis.html#filldepressions"><strong>FillDepressions</strong></a> tool. flow direction) raster, and the output raster.</p>
<p>By default, the pointer raster is assumed to use the clockwise indexing method used by WhiteboxTools.
If the pointer file contains ESRI flow direction values instead, the <code>--esri_pntr</code> parameter must be specified.</p>
<p><em>See Also</em>:
<a href="./hydrological_analysis.html#d8pointer"><strong>D8Pointer</strong></a>, <a href="./stream_network_analysis.html#streamlinkidentifier"><strong>StreamLinkIdentifier</strong></a>, <a href="./hydrological_analysis.html#breachdepressions"><strong>BreachDepressions</strong></a>, <a href="./hydrological_analysis.html#filldepressions"><strong>FillDepressions</strong></a></p>
<p><em>Parameters</em>:</p>
<table><thead><tr><th><strong>Flag</strong></th><th><strong>Description</strong></th></tr></thead><tbody>
<tr><td>--d8_pntr</td><td>Input raster D8 pointer file</td></tr>
<tr><td>--streams</td><td>Input raster streams file</td></tr>
<tr><td>-o, --output</td><td>Output raster file</td></tr>
<tr><td>--esri_pntr</td><td>D8 pointer uses the ESRI style scheme</td></tr>
<tr><td>--zero_background</td><td>Flag indicating whether a background value of zero should be used</td></tr>
</tbody></table>
<p><em>Python function</em>:</p>
<pre><code class="language-python">wbt.tributary_identifier(
    d8_pntr, 
    streams, 
    output, 
    esri_pntr=False, 
    zero_background=False, 
    callback=default_callback
)
</code></pre>
<p><em>Command-line Interface</em>:</p>
<pre><code>&gt;&gt;./whitebox_tools -r=TributaryIdentifier -v ^
--wd=&quot;/path/to/data/&quot; --d8_pntr=D8.tif --streams=streams.tif ^
-o=output.tif
&gt;&gt;./whitebox_tools -r=TributaryIdentifier -v ^
--wd=&quot;/path/to/data/&quot; --d8_pntr=D8.tif --streams=streams.tif ^
-o=output.tif --esri_pntr --zero_background 
</code></pre>
<p><a href="https://github.com/jblindsay/whitebox-tools/blob/master/whitebox-tools-app/src/tools/stream_network_analysis/tributary_id.rs">Source code on GitHub</a></p>
<p><em>Author</em>: Dr. John Lindsay</p>
<p><em>Created</em>: 25/06/2017</p>
<p><em>Last Modified</em>: 10/10/2019</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../available_tools/precision_agriculture.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../tutorials/index.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../available_tools/precision_agriculture.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../tutorials/index.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
