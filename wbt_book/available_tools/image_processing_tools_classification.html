<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Classification - WhiteboxTools User Manual</title>
        <meta http-equiv="refresh" content="0; url=https://www.whiteboxgeo.com/manual/wbt_book/intro.html" />
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="../favicon.svg">
        
        
        <link rel="shortcut icon" href="../favicon.png">
        
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        
        <link rel="stylesheet" href="../css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="../fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../preface.html">Preface</a></li><li class="chapter-item expanded "><a href="../intro.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../install.html"><strong aria-hidden="true">2.</strong> Setting Up WhiteboxTools</a></li><li class="chapter-item expanded "><a href="../using_whiteboxtools.html"><strong aria-hidden="true">3.</strong> Using WhiteboxTools</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../python_scripting/scripting.html"><strong aria-hidden="true">3.1.</strong> Interfacing with Python</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../python_scripting/using_whitebox_tools.html"><strong aria-hidden="true">3.1.1.</strong> Using whitebox_tools.py</a></li><li class="chapter-item expanded "><a href="../python_scripting/tool_output.html"><strong aria-hidden="true">3.1.2.</strong> Handling tool output</a></li><li class="chapter-item expanded "><a href="../python_scripting/additional_functions.html"><strong aria-hidden="true">3.1.3.</strong> Additional functions</a></li><li class="chapter-item expanded "><a href="../python_scripting/example.html"><strong aria-hidden="true">3.1.4.</strong> An example Python project</a></li></ol></li><li class="chapter-item expanded "><a href="../r_interface.html"><strong aria-hidden="true">3.2.</strong> Interfacing with R</a></li><li class="chapter-item expanded "><a href="../nim_scripting.html"><strong aria-hidden="true">3.3.</strong> Interfacing with Nim</a></li><li class="chapter-item expanded "><a href="../whitebox_tools_runner.html"><strong aria-hidden="true">3.4.</strong> WhiteboxTools Runner</a></li><li class="chapter-item expanded "><a href="../qgis_plugin.html"><strong aria-hidden="true">3.5.</strong> QGIS plugin</a></li><li class="chapter-item expanded "><a href="../arcgis_plugin.html"><strong aria-hidden="true">3.6.</strong> ArcGIS plugin</a></li><li class="chapter-item expanded "><a href="../command_prompt.html"><strong aria-hidden="true">3.7.</strong> Command-line interface</a></li></ol></li><li class="chapter-item expanded "><a href="../available_tools/index.html"><strong aria-hidden="true">4.</strong> Tools Reference</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../available_tools/data_tools.html"><strong aria-hidden="true">4.1.</strong> Data tools</a></li><li class="chapter-item expanded "><a href="../available_tools/geomorphometric_analysis.html"><strong aria-hidden="true">4.2.</strong> Geomorphometric analysis</a></li><li class="chapter-item expanded "><a href="../available_tools/gis_analysis.html"><strong aria-hidden="true">4.3.</strong> GIS analysis</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../available_tools/gis_analysis_distance_tools.html"><strong aria-hidden="true">4.3.1.</strong> Distance tools</a></li><li class="chapter-item expanded "><a href="../available_tools/gis_analysis_overlay_tools.html"><strong aria-hidden="true">4.3.2.</strong> Overlay tools</a></li><li class="chapter-item expanded "><a href="../available_tools/gis_analysis_patch_shape_tools.html"><strong aria-hidden="true">4.3.3.</strong> Patch shape tools</a></li></ol></li><li class="chapter-item expanded "><a href="../available_tools/hydrological_analysis.html"><strong aria-hidden="true">4.4.</strong> Hydrological analysis</a></li><li class="chapter-item expanded "><a href="../available_tools/image_processing_tools.html"><strong aria-hidden="true">4.5.</strong> Image processing tools</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../available_tools/image_processing_tools_classification.html" class="active"><strong aria-hidden="true">4.5.1.</strong> Classification</a></li><li class="chapter-item expanded "><a href="../available_tools/image_processing_tools_filters.html"><strong aria-hidden="true">4.5.2.</strong> Filters</a></li><li class="chapter-item expanded "><a href="../available_tools/image_processing_tools_image_enhancement.html"><strong aria-hidden="true">4.5.3.</strong> Image enchancement</a></li></ol></li><li class="chapter-item expanded "><a href="../available_tools/lidar_tools.html"><strong aria-hidden="true">4.6.</strong> LiDAR tools</a></li><li class="chapter-item expanded "><a href="../available_tools/mathand_stats_tools.html"><strong aria-hidden="true">4.7.</strong> Mathematical and statistical analysis</a></li><li class="chapter-item expanded "><a href="../available_tools/precision_agriculture.html"><strong aria-hidden="true">4.8.</strong> Precision agriculture</a></li><li class="chapter-item expanded "><a href="../available_tools/stream_network_analysis.html"><strong aria-hidden="true">4.9.</strong> Stream network analysis</a></li></ol></li><li class="chapter-item expanded "><a href="../tutorials/index.html"><strong aria-hidden="true">5.</strong> Tutorials</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../tutorials/mosaic.html"><strong aria-hidden="true">5.1.</strong> How can I mosaic hundreds of rasters?</a></li><li class="chapter-item expanded "><a href="../tutorials/lidar.html"><strong aria-hidden="true">5.2.</strong> Processing LiDAR data</a></li></ol></li><li class="chapter-item expanded "><a href="../supported_formats.html"><strong aria-hidden="true">6.</strong> Supported Data Formats</a></li><li class="chapter-item expanded "><a href="../contributing.html"><strong aria-hidden="true">7.</strong> Contributing and Reporting Bugs</a></li><li class="chapter-item expanded "><a href="../limitations.html"><strong aria-hidden="true">8.</strong> Limitations and Memory</a></li><li class="chapter-item expanded "><a href="../license.html"><strong aria-hidden="true">9.</strong> License</a></li><li class="chapter-item expanded "><a href="../faq.html"><strong aria-hidden="true">10.</strong> Frequently Asked Questions</a></li><li class="chapter-item expanded "><a href="../tool_index.html"><strong aria-hidden="true">11.</strong> Tool Index</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">WhiteboxTools User Manual</h1>

                    <div class="right-buttons">
                        
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="image-processing-tools--classification"><a class="header" href="#image-processing-tools--classification">Image Processing Tools → Classification</a></h1>
<ul>
<li><a href="#EvaluateTrainingSites">EvaluateTrainingSites</a></li>
<li><a href="#ImageSegmentation">ImageSegmentation</a></li>
<li><a href="#KMeansClustering">KMeansClustering</a></li>
<li><a href="#MinDistClassification">MinDistClassification</a></li>
<li><a href="#ModifiedKMeansClustering">ModifiedKMeansClustering</a></li>
<li><a href="#ParallelepipedClassification">ParallelepipedClassification</a></li>
</ul>
<p><a name="EvaluateTrainingSites"></a></p>
<h1 id="evaluatetrainingsites"><a class="header" href="#evaluatetrainingsites">EvaluateTrainingSites</a></h1>
<blockquote>
<p>Note this tool is part of a WhiteboxTools extension toolset. Please contact
<a href="https://www.whiteboxgeo.com">Whitebox Geospatial Inc.</a> for information about purchasing a license
activation key (<a href="https://www.whiteboxgeo.com">https://www.whiteboxgeo.com</a>).</p>
</blockquote>
<p>This tool performs an evaluation of the reflectance properties of multi-spectral image dataset for a
group of digitized class polygons. This is often viewed as the first step in a supervised classification
procedure, such as those performed using the <a href="./image_processing_tools_classification.html#mindistclassification"><strong>MinDistClassification</strong></a> or <a href="./image_processing_tools_classification.html#parallelepipedclassification"><strong>ParallelepipedClassification</strong></a>
tools. The analysis is based on a series of one or more input images (<code>--inputs</code>) and an input polygon
vector file (<code>--polys</code>). The user must also specify the attribute name (<code>--field</code>), within the attribute
table, containing the class ID associated with each feature in input the polygon vector. A single class
may be designated by multiple polygon features in the test site polygon vector. Note that the
input polygon file is generally created by digitizing training areas of exemplar reflectance properties for each
class type. The input polygon vector should be in the same coordinate system as the input multi-spectral images.
The input images must represent a multi-spectral data set made up of individual bands.
Do not input colour composite images. Lastly, the user must specify the name of the output HTML file.
This file will contain a series of <a href="https://en.wikipedia.org/wiki/Box_plot">box-and-whisker plots</a>, one
for each band in the multi-spectral data set, that visualize the distribution of each class in the
associated bands. This can be helpful in determining the overlap between spectral properties for the
classes, which may be useful if further class or test site refinement is necessary. For a subsequent
supervised classification to be successful, each class should not overlap significantly with the other
classes in at least one of the input bands. If this is not the case, the user may need to refine
the class system.</p>
<p><img src="../img/EvaluateTrainingSites.png" alt="" /></p>
<p><em>See Also</em>:
<a href="./image_processing_tools_classification.html#mindistclassification"><strong>MinDistClassification</strong></a>, <a href="./image_processing_tools_classification.html#parallelepipedclassification"><strong>ParallelepipedClassification</strong></a></p>
<p><em>Parameters</em>:</p>
<table><thead><tr><th><strong>Flag</strong></th><th><strong>Description</strong></th></tr></thead><tbody>
<tr><td>-i, --inputs</td><td>Name of the input band images</td></tr>
<tr><td>-p, --polys</td><td>Name of the input training site polygons shapefile</td></tr>
<tr><td>-f, --field</td><td>Name of the attribute containing class name data</td></tr>
<tr><td>-o, --output</td><td>Name of the output report file (*.html)</td></tr>
</tbody></table>
<p><em>Python function</em>:</p>
<pre><code class="language-python">wbt.evaluate_training_sites(
    inputs, 
    polys, 
    field, 
    output, 
    callback=default_callback
)
</code></pre>
<p><em>Command-line Interface</em>:</p>
<pre><code>&gt;&gt; ./whitebox_tools -r=EvaluateTrainingSites ^
--inputs=&quot;band1.tif;band2.tif;band3.tif;band4.tif&quot; ^
--polys=training_sites.shp --field=CLASS ^
-o=class_properties.html 
</code></pre>
<p>Source code is unavailable due to proprietary license.</p>
<p><em>Author</em>: Whitebox Geospatial Inc. (c)</p>
<p><em>Created</em>: 20/03/2021</p>
<p><em>Last Modified</em>: 20/03/2021</p>
<p><a name="ImageSegmentation"></a></p>
<h1 id="imagesegmentation"><a class="header" href="#imagesegmentation">ImageSegmentation</a></h1>
<blockquote>
<p>Note this tool is part of a WhiteboxTools extension toolset. Please contact
<a href="https://www.whiteboxgeo.com">Whitebox Geospatial Inc.</a> for information about purchasing a license
activation key (<a href="https://www.whiteboxgeo.com">https://www.whiteboxgeo.com</a>).</p>
</blockquote>
<p>This tool is used to segment a mult-spectral image data set, or multi-dimensional data stack. The
algorithm is based on region-growing operations. Each of the input images are transformed into
<a href="https://en.wikipedia.org/wiki/Standard_score">standard scores</a> prior to analysis. The total multi-dimensional
distance between each pixel and its eight neighbours is measured, which then serves as a priority
value for selecting potential seed pixels for the region-growing operations, with pixels exhibited the least
difference with their neighbours more likely to serve as seeds. The region-growing operations
initiate at seed pixels and grows outwards, connecting neighbouring pixels that have a multi-dimensional
distance from the seed cell that is less than a threshold value. Thus, the region-growing operations attempt
to identify contiguous, relatively homogeneous objects. The algorithm stratifies potential seed pixels into
bands, based on their total difference with their eight neighbours. The user may control the size and number
of these bands using the <code>--threshold</code> and <code>--steps</code> parameters respectively. Increasing the magnitude of the
threshold parameter will result in fewer mapped objects and vice versa. All pixels that are not assigned to an
object after the seeding-based region-growing operations are then clumped simply based on contiguity.</p>
<p>It is commonly the case that there will be a large number of very small-sized objects identified using this
approach. The user may optionally specify that objects that are less than a minimum area (expressed in pixels)
be eliminated from the final output raster. The <code>--min_area</code> parameter must be an integer between 1 and 8. In
cleaning small objects from the output, the pixels belonging to these smaller features are assigned to the
most homogeneous neighbouring object.</p>
<p>The input rasters (<code>--inputs</code>) may be bands of satellite imagery, or any other attribute, such as measures
of texture, elevation, or other topographic derivatives, such as slope. If satellite imagery is used
as inputs, it can be beneficial to pre-process the data with an edge-preserving low-pass filter, such as
the <a href="./image_processing_tools_filters.html#bilateralfilter"><strong>BilateralFilter</strong></a> and <a href="./image_processing_tools_filters.html#edgepreservingmeanfilter"><strong>EdgePreservingMeanFilter</strong></a> tools.</p>
<p><em>See Also</em>:
<a href="./image_processing_tools_filters.html#bilateralfilter"><strong>BilateralFilter</strong></a>, <a href="./image_processing_tools_filters.html#edgepreservingmeanfilter"><strong>EdgePreservingMeanFilter</strong></a></p>
<p><em>Parameters</em>:</p>
<table><thead><tr><th><strong>Flag</strong></th><th><strong>Description</strong></th></tr></thead><tbody>
<tr><td>-i, --inputs</td><td>Names of the input band images</td></tr>
<tr><td>-o, --output</td><td>Name of the output raster file</td></tr>
<tr><td>--threshold</td><td>Distance threshold, in z-scores</td></tr>
<tr><td>--steps</td><td>Number of steps</td></tr>
<tr><td>--min_area</td><td>Minimum object area, in grid cells (1-8)</td></tr>
</tbody></table>
<p><em>Python function</em>:</p>
<pre><code class="language-python">wbt.image_segmentation(
    inputs, 
    output, 
    threshold=0.5, 
    steps=10, 
    min_area=4, 
    callback=default_callback
)
</code></pre>
<p><em>Command-line Interface</em>:</p>
<pre><code>&gt;&gt; ./whitebox_tools -r=ImageSegmentation ^
-i='band1.tif; band2.tif; band3.tif; band4.tif' -o=segmented.tif ^
--threshold=4.0 --steps=10 --min_area=4 
</code></pre>
<p>Source code is unavailable due to proprietary license.</p>
<p><em>Author</em>: Whitebox Geospatial Inc. (c)</p>
<p><em>Created</em>: 28/05/2021</p>
<p><em>Last Modified</em>: 28/05/2021</p>
<p><a name="KMeansClustering"></a></p>
<h1 id="kmeansclustering"><a class="header" href="#kmeansclustering">KMeansClustering</a></h1>
<p>This tool can be used to perform a k-means clustering operation on two or more input
images (<code>--inputs</code>), typically several bands of multi-spectral satellite imagery. The
tool creates two outputs, including the classified image (<code>--output</code> and a classification
HTML report (<code>--out_html</code>). The user must specify the number of class (<code>--classes</code>), which should be
known <em>a priori</em>, and the strategy for initializing class clusters (<code>--initialize</code>). The initilization
strategies include &quot;diagonal&quot; (clusters are initially located randomly along the multi-dimensional diagonal
of spectral space) and &quot;random&quot; (clusters are initially located randomly throughout spectral space).
The algorithm will continue updating cluster center locations with each iteration of the process until
either the user-specified maximum number of iterations (<code>--max_iterations</code>) is reached, or until a
stability criteria (<code>--class_change</code>) is achieved. The stability criteria is the percent of the total
number of pixels in the image that are changed among the class values between consecutive iterations.
Lastly, the user must specify the minimum allowable number of pixels in a cluster (<code>--min_class_size</code>).</p>
<p>Note, each of the input images must have the same number of rows and columns and the same spatial extent
because the analysis is performed on a pixel-by-pixel basis. <strong>NoData</strong> values in any of the input images
will result in the removal of the corresponding pixel from the analysis.</p>
<p><em>See Also</em>:
<a href="./image_processing_tools_classification.html#modifiedkmeansclustering"><strong>ModifiedKMeansClustering</strong></a></p>
<p><em>Parameters</em>:</p>
<table><thead><tr><th><strong>Flag</strong></th><th><strong>Description</strong></th></tr></thead><tbody>
<tr><td>-i, --inputs</td><td>Input raster files</td></tr>
<tr><td>-o, --output</td><td>Output raster file</td></tr>
<tr><td>--out_html</td><td>Output HTML report file</td></tr>
<tr><td>--classes</td><td>Number of classes</td></tr>
<tr><td>--max_iterations</td><td>Maximum number of iterations</td></tr>
<tr><td>--class_change</td><td>Minimum percent of cells changed between iterations before completion</td></tr>
<tr><td>--initialize</td><td>How to initialize cluster centres?</td></tr>
<tr><td>--min_class_size</td><td>Minimum class size, in pixels</td></tr>
</tbody></table>
<p><em>Python function</em>:</p>
<pre><code class="language-python">wbt.k_means_clustering(
    inputs, 
    output, 
    classes, 
    out_html=None, 
    max_iterations=10, 
    class_change=2.0, 
    initialize=&quot;diagonal&quot;, 
    min_class_size=10, 
    callback=default_callback
)
</code></pre>
<p><em>Command-line Interface</em>:</p>
<pre><code>&gt;&gt;./whitebox_tools -r=KMeansClustering -v ^
--wd='/path/to/data/' -i='image1.tif;image2.tif;image3.tif' ^
-o=output.tif --out_html=report.html --classes=15 ^
--max_iterations=25 --class_change=1.5 --initialize='random' ^
--min_class_size=500 
</code></pre>
<p><a href="https://github.com/jblindsay/whitebox-tools/blob/master/whitebox-tools-app/src/tools/image_analysis/k_means_clustering.rs">Source code on GitHub</a></p>
<p><em>Author</em>: Dr. John Lindsay</p>
<p><em>Created</em>: 27/12/2017</p>
<p><em>Last Modified</em>: 24/02/2019</p>
<p><a name="MinDistClassification"></a></p>
<h1 id="mindistclassification"><a class="header" href="#mindistclassification">MinDistClassification</a></h1>
<blockquote>
<p>Note this tool is part of a WhiteboxTools extension toolset. Please contact
<a href="https://www.whiteboxgeo.com">Whitebox Geospatial Inc.</a> for information about purchasing a license
activation key (<a href="https://www.whiteboxgeo.com">https://www.whiteboxgeo.com</a>).</p>
</blockquote>
<p>This tool performs a supervised <a href="http://www.50northspatial.org/supervised-image-classification-using-minimum-distance-algorithm/">minimum-distance classification</a> using training site polygons (<code>--polys</code>) and
multi-spectral images (<code>--inputs</code>). This classification method uses the mean vectors for each class and
calculates the Euclidean distance from each unknown pixel to the class mean vector. Unclassed pixels are
then assigned to the nearest class mean. A threshold distance (<code>--threshold</code>), expressed in number of <a href="https://en.wikipedia.org/wiki/Standard_score">z-scores</a>,
may optionally be used and pixels whose multi-spectral distance is greather than this threshold will not be
assigned a class in the output
image (<code>--output</code>). When a threshold distance is unspecified, all pixels will be assigned to a class.</p>
<p>Like all supervised classification methods, this technique relies heavily on proper selection of training data.
Training sites are exemplar areas of known and representative land cover type. The algorithm determines the
spectral signature of the pixels within each training area, and uses this information to define the mean vector
of each class. It is preferable that training sites are based on either field-collected data or fine-resolution
reference imagery. In selecting training sites, care should be taken to ensure that they cover the full range of
variability within each class. Otherwise the classification accuracy will be impacted. If possible, multiple
training sites should be selected for each class. It is also advisable to avoid areas near the edges of land-cover
patches, where mixed pixels may impact the purity of training site reflectance values.</p>
<p>After selecting training sites, the reflectance values of each land-cover type can be assessed using the
<a href="./image_processing_tools_classification.html#evaluatetrainingsites"><strong>EvaluateTrainingSites</strong></a> tool. In particular, the distribution of reflectance values should ideally be
non-overlapping in at least one band of the multi-spectral data set.</p>
<p><em>See Also</em>:
<a href="./image_processing_tools_classification.html#evaluatetrainingsites"><strong>EvaluateTrainingSites</strong></a>, <a href="./image_processing_tools_classification.html#parallelepipedclassification"><strong>ParallelepipedClassification</strong></a></p>
<p><em>Parameters</em>:</p>
<table><thead><tr><th><strong>Flag</strong></th><th><strong>Description</strong></th></tr></thead><tbody>
<tr><td>-i, --inputs</td><td>Names of the input band images</td></tr>
<tr><td>-p, --polys</td><td>Name of the input training site polygons shapefile</td></tr>
<tr><td>-f, --field</td><td>Name of the attribute containing class name data</td></tr>
<tr><td>-o, --output</td><td>Name of the output raster file</td></tr>
<tr><td>--threshold</td><td>Distance threshold, in z-scores; blank for none</td></tr>
</tbody></table>
<p><em>Python function</em>:</p>
<pre><code class="language-python">wbt.min_dist_classification(
    inputs, 
    polys, 
    field, 
    output, 
    threshold=None, 
    callback=default_callback
)
</code></pre>
<p><em>Command-line Interface</em>:</p>
<pre><code>&gt;&gt; ./whitebox_tools -r=MinDistClassification ^
-i='band1.tif; band2.tif; band3.tif; band4.tif' ^
-p=training_sites.shp -f='LAND_COVER' -o=classified.tif ^
--threshold=4.0 
</code></pre>
<p>Source code is unavailable due to proprietary license.</p>
<p><em>Author</em>: Whitebox Geospatial Inc. (c)</p>
<p><em>Created</em>: 22/03/2021</p>
<p><em>Last Modified</em>: 22/03/2021</p>
<p><a name="ModifiedKMeansClustering"></a></p>
<h1 id="modifiedkmeansclustering"><a class="header" href="#modifiedkmeansclustering">ModifiedKMeansClustering</a></h1>
<p>This modified k-means algorithm is similar to that described by Mather and Koch (2011).
The main difference between the traditional k-means and this technique is that the user
does not need to specify the desired number of classes/clusters prior to running the
tool. Instead, the algorithm initializes with a very liberal overestimate of the number
of classes and then merges classes that have cluster centres that are separated by less
than a user-defined threshold. The main difference between this algorithm and the ISODATA
technique is that clusters can not be broken apart into two smaller clusters.</p>
<p><em>Reference</em>:</p>
<p>Mather, P. M., &amp; Koch, M. (2011). Computer processing of remotely-sensed images: an
introduction. John Wiley &amp; Sons.</p>
<p><em>See Also</em>:
<a href="./image_processing_tools_classification.html#kmeansclustering"><strong>KMeansClustering</strong></a></p>
<p><em>Parameters</em>:</p>
<table><thead><tr><th><strong>Flag</strong></th><th><strong>Description</strong></th></tr></thead><tbody>
<tr><td>-i, --inputs</td><td>Input raster files</td></tr>
<tr><td>-o, --output</td><td>Output raster file</td></tr>
<tr><td>--out_html</td><td>Output HTML report file</td></tr>
<tr><td>--start_clusters</td><td>Initial number of clusters</td></tr>
<tr><td>--merge_dist</td><td>Cluster merger distance</td></tr>
<tr><td>--max_iterations</td><td>Maximum number of iterations</td></tr>
<tr><td>--class_change</td><td>Minimum percent of cells changed between iterations before completion</td></tr>
</tbody></table>
<p><em>Python function</em>:</p>
<pre><code class="language-python">wbt.modified_k_means_clustering(
    inputs, 
    output, 
    out_html=None, 
    start_clusters=1000, 
    merge_dist=None, 
    max_iterations=10, 
    class_change=2.0, 
    callback=default_callback
)
</code></pre>
<p><em>Command-line Interface</em>:</p>
<pre><code>&gt;&gt;./whitebox_tools -r=ModifiedKMeansClustering -v ^
--wd='/path/to/data/' -i='image1.tif;image2.tif;image3.tif' ^
-o=output.tif --out_html=report.html --start_clusters=100 ^
--merge_dist=30.0 --max_iterations=25 --class_change=1.5 
</code></pre>
<p><a href="https://github.com/jblindsay/whitebox-tools/blob/master/whitebox-tools-app/src/tools/image_analysis/modified_k_means_clustering.rs">Source code on GitHub</a></p>
<p><em>Author</em>: Dr. John Lindsay</p>
<p><em>Created</em>: 30/12/2017</p>
<p><em>Last Modified</em>: 24/02/2019</p>
<p><a name="ParallelepipedClassification"></a></p>
<h1 id="parallelepipedclassification"><a class="header" href="#parallelepipedclassification">ParallelepipedClassification</a></h1>
<blockquote>
<p>Note this tool is part of a WhiteboxTools extension toolset. Please contact
<a href="https://www.whiteboxgeo.com">Whitebox Geospatial Inc.</a> for information about purchasing a license
activation key (<a href="https://www.whiteboxgeo.com">https://www.whiteboxgeo.com</a>).</p>
</blockquote>
<p>This tool performs a supervised <a href="http://www.50northspatial.org/supervised-image-classification-using-parallelepiped-algorithm/">parallelepiped classification</a>
using training site polygons (<code>--polys</code>) and multi-spectral images (<code>--inputs</code>). This classification method
uses the minimum and maximum reflectance values for each class within the training data to characterize a set
of <a href="https://en.wikipedia.org/wiki/Parallelepiped">parallelepipeds</a>, i.e. multi-dimensional geometric shapes.
The algorithm then assigns each unknown pixel in the image data set to the first class for which the pixel's
spectral vector is contained within the corresponding class parallelepiped. Pixels with spectral vectors that
are not contained within any class parallelepiped will not be assigned a class in the output image.</p>
<p>Like all supervised classification methods, this technique relies heavily on proper selection of training data.
Training sites are exemplar areas of known and representative land cover type. The algorithm determines the
spectral signature of the pixels within each training area, and uses this information to define the mean vector
of each class. It is preferable that training sites are based on either field-collected data or fine-resolution
reference imagery. In selecting training sites, care should be taken to ensure that they cover the full range of
variability within each class. Otherwise the classification accuracy will be impacted. If possible, multiple
training sites should be selected for each class. It is also advisable to avoid areas near the edges of land-cover
patches, where mixed pixels may impact the purity of training site reflectance values.</p>
<p>After selecting training sites, the reflectance values of each land-cover type can be assessed using the
<a href="./image_processing_tools_classification.html#evaluatetrainingsites"><strong>EvaluateTrainingSites</strong></a> tool. In particular, the distribution of reflectance values should ideally be
non-overlapping in at least one band of the multi-spectral data set.</p>
<p><em>See Also</em>:
<a href="./image_processing_tools_classification.html#evaluatetrainingsites"><strong>EvaluateTrainingSites</strong></a>, <a href="./image_processing_tools_classification.html#mindistclassification"><strong>MinDistClassification</strong></a></p>
<p><em>Parameters</em>:</p>
<table><thead><tr><th><strong>Flag</strong></th><th><strong>Description</strong></th></tr></thead><tbody>
<tr><td>-i, --inputs</td><td>Name of the input band images</td></tr>
<tr><td>-p, --polys</td><td>Name of the input training site polygons shapefile</td></tr>
<tr><td>-f, --field</td><td>Name of the attribute containing class name data</td></tr>
<tr><td>-o, --output</td><td>Name of the output raster file</td></tr>
</tbody></table>
<p><em>Python function</em>:</p>
<pre><code class="language-python">wbt.parallelepiped_classification(
    inputs, 
    polys, 
    field, 
    output, 
    callback=default_callback
)
</code></pre>
<p><em>Command-line Interface</em>:</p>
<pre><code>&gt;&gt; ./whitebox_tools -r=ParallelepipedClassification ^
-i='band1.tif; band2.tif; band3.tif; band4.tif' ^
-p=training_sites.shp -f='LAND_COVER' -o=classified.tif 
</code></pre>
<p>Source code is unavailable due to proprietary license.</p>
<p><em>Author</em>: Whitebox Geospatial Inc. (c)</p>
<p><em>Created</em>: 21/03/2021</p>
<p><em>Last Modified</em>: 21/03/2021</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../available_tools/image_processing_tools.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../available_tools/image_processing_tools_filters.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../available_tools/image_processing_tools.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../available_tools/image_processing_tools_filters.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
