<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Flash Point Classifier: Purchase</title>
        <link rel="stylesheet" href="styles.css">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Flash Point Classifier is a powerful and user-friendly software tool designed to classify airborne lidar point clouds quickly and efficiently. Go from raw data to actionable insights in a flash!">
        <meta name="keywords" content="lidar,classification,point cloud">
        <meta name="author" content="WG Inc.">
        <link rel="icon" type="image/x-icon" href="favicon.ico">
        <link rel="preload" as="image" href="img/hero-purchase.png" />
        <script src="scripts/common_elements.js"></script>
    </head>
    <body>

        <div id="navbar"></div>

        <div class="nonhomepage-hero-image" style="background-image: url('img/hero-purchase.png');">
            <div class="hero-text">
                <h1>Purchase</h1>
            </div>
        </div> 

        <div style="text-align: left; line-height: 1.5; background-color: rgb(255, 255, 255); padding: 30px; margin: 30px;">
            <h2>Purchase Flash Point Classifier now and unlock its full potential</h2>
            <p style="text-align: left;">We offer two products including licenses for Flash Point Classifier and Maintenance & 
                Support (M&S) extension terms, both with varying numbers of seats. A Flash Point Classifier license allows you 
                use the software on one computer perpetually. A valid M&S term is required for 
                software updates and technical support and to transfer your license to another computer. A Flash Point Classifier 
                license comes with an initial 365-day M&S term.</p>

            <br>
            <div class="product-grid">
                <div class="product-card">
                    <h3>Flash Point Classifier Perpetual License</h3>
                    <p>Includes 365 days of free Maintenance & Support*</p>
                    <p id="fpc_price">US$999.99</p>
                    <div>
                    <label for="fpc_seats">Number of Seats:</label>
                    <select name="fpc_seats" id="fpc_seats" onChange="updatePrice('fpc_price', this.value)">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="10">10</option>
                        <option value="25">25</option>
                    </select>
                    </div>
                    <br><br>
                    <!-- <button class="add-to-cart-btn" onclick="addToCart('Flash Point Classifier', 999.99)">Proceed to Checkout</button> -->
                    <button class="add-to-cart-btn" onclick="buyNow({ id: 'fpc', name: 'Flash Point Classifier', price: 999.99, seats: 1 })">Buy Now</button>
                </div>

                <div class="product-card">
                    <h3>Maintenance & Support Extension Term for FPC (365 days)</h3>
                    <p>Update FPC, transfer your license to another computer, contact us for support*</p>
                    <p id="ms_price">US$349.99</p>
                    <div>
                    <label for="ms_seats">Number of Seats:</label>
                    <select name="ms_seats" id="ms_seats" onChange="updatePrice('ms_price', this.value)">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="10">10</option>
                        <option value="25">25</option>
                    </select>
                    </div>
                    <br><br>
                    <!-- <button class="add-to-cart-btn" onclick="addToCart('Extended Maintenance & Support Term for Flash Point Classifier', 349.99)">Proceed to Checkout</button> -->
                    <button class="add-to-cart-btn" onclick="buyNow({ id: 'ms', name: 'Extended M&S Term for FPC', price: 349.99, seats: 1 })">Buy Now</button>
                </div>
            </div>
            <p>*Purchasing either product implies acceptance of the <a href="license.html">Terms & Conditions</a>. All sales 
            <a href="license.html#refund-policy">are final.</a></p>
        </div>
                
        <div id="footer"></div>
    </body>

    <script>
        // Common elements
        insertNavbar();
        insertFooter();

        // Update price based on selected number of seats
        function updatePrice(priceElementId, seats) {
            const basePrice = priceElementId === 'fpc_price' ? 999.99 : 349.99;
            // alert(`"${priceElementId}" seats: ${seats} base price: US$${basePrice.toFixed(2)}`);
            const totalPrice = basePrice * parseInt(seats, 10);
            // alert(`"${priceElementId}" seats: ${seats} price: ${totalPrice.toFixed(2)}`);
            document.getElementById(priceElementId).innerText = `US$${totalPrice.toFixed(2)}`;
        }

        function buyNow(product) {
            if (product.id === 'fpc') { // FPC
                product.seats = parseInt(document.getElementById("fpc_seats").value);
                // alert(`"${product.name}" with ${product.seats} seats has been added to your cart!`);
                if (product.seats == 1) {
                    window.location.href = 'https://buy.stripe.com/bJe9AS1NG0gpedx4ltf7i20';
                } else if (product.seats == 2) {
                    window.location.href = 'https://buy.stripe.com/5kQ4gybog8MV1qLaJRf7i21';
                } else if (product.seats == 3) {
                    window.location.href = 'https://buy.stripe.com/5kQ8wO9g83sBc5p8BJf7i22';
                } else if (product.seats == 4) {
                    window.location.href = 'https://buy.stripe.com/bJe9AS1NG0gpedx4ltf7i20';
                } else if (product.seats == 5) {
                    window.location.href = 'https://buy.stripe.com/bJe9AS1NG0gpedx4ltf7i20';
                } else if (product.seats == 10) {
                    window.location.href = 'https://buy.stripe.com/bJe9AS1NG0gpedx4ltf7i20';
                } else if (product.seats == 25) {
                    window.location.href = 'https://buy.stripe.com/bJe9AS1NG0gpedx4ltf7i20';
                }
            } else { // M&S
                product.seats = parseInt(document.getElementById("ms_seats").value);
                alert(`"${product.name}" with ${product.seats} seats has been added to your cart!`);
                if (product.seats == 1) {
                    window.location.href = 'https://buy.stripe.com/bJe9AS1NG0gpedx4ltf7i20';
                } else if (product.seats == 2) {
                    window.location.href = 'https://buy.stripe.com/bJe9AS1NG0gpedx4ltf7i20';
                } else if (product.seats == 3) {
                    window.location.href = 'https://buy.stripe.com/bJe9AS1NG0gpedx4ltf7i20';
                } else if (product.seats == 4) {
                    window.location.href = 'https://buy.stripe.com/bJe9AS1NG0gpedx4ltf7i20';
                } else if (product.seats == 5) {
                    window.location.href = 'https://buy.stripe.com/bJe9AS1NG0gpedx4ltf7i20';
                } else if (product.seats == 10) {
                    window.location.href = 'https://buy.stripe.com/bJe9AS1NG0gpedx4ltf7i20';
                } else if (product.seats == 25) {
                    window.location.href = 'https://buy.stripe.com/bJe9AS1NG0gpedx4ltf7i20';
                }
            }
        }

        // Navbar opacity on scroll
        const nav = document.querySelector('.navbar');

        window.addEventListener('scroll', () => {
            if (window.scrollY > 0) nav.style.opacity = '0.9';
            else nav.style.opacity = '1.0';
        });
    </script>
</html>